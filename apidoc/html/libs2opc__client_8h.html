<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>S2OPC OPCUA Toolkit: src/ClientServer/frontend/client_wrapper/libs2opc_client.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">S2OPC OPCUA Toolkit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c3d037eb94fa1aa7134660c2803d99ab.html">ClientServer</a></li><li class="navelem"><a class="el" href="dir_47fed5d539b73ed9dc6fc81238e653d6.html">frontend</a></li><li class="navelem"><a class="el" href="dir_6ca45c16449ce17e19dc872a3d070865.html">client_wrapper</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">libs2opc_client.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>High level interface to run an OPC UA client.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sopc__types_8h_source.html">sopc_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="libs2opc__client__config_8h_source.html">libs2opc_client_config.h</a>&quot;</code><br />
</div>
<p><a href="libs2opc__client_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a407eb71da8d574a5e1f3036ebaf8d4cc" id="r_a407eb71da8d574a5e1f3036ebaf8d4cc"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a></td></tr>
<tr class="memdesc:a407eb71da8d574a5e1f3036ebaf8d4cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure representing a secure connection to a server.  <br /></td></tr>
<tr class="separator:a407eb71da8d574a5e1f3036ebaf8d4cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72edfff76138a1477189ffc3bb118f22" id="r_a72edfff76138a1477189ffc3bb118f22"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a72edfff76138a1477189ffc3bb118f22">SOPC_ClientConnectionEvent_Fct</a>(<a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> *conn, <a class="el" href="libs2opc__client_8h.html#a8193a268137c5013e3f971c2045d3355">SOPC_ClientConnectionEvent</a> event, <a class="el" href="sopc__builtintypes_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> status)</td></tr>
<tr class="memdesc:a72edfff76138a1477189ffc3bb118f22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of callback called on client connection event.  <br /></td></tr>
<tr class="separator:a72edfff76138a1477189ffc3bb118f22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abad83b454d2fc38e96b0f8808d69058d" id="r_abad83b454d2fc38e96b0f8808d69058d"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a></td></tr>
<tr class="separator:abad83b454d2fc38e96b0f8808d69058d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada0a39e25997feef2d13599beb0738ca" id="r_ada0a39e25997feef2d13599beb0738ca"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#ada0a39e25997feef2d13599beb0738ca">SOPC_ClientSubscriptionNotification_Fct</a>(const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription, <a class="el" href="sopc__builtintypes_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> status, <a class="el" href="sopc__encodeabletype_8h.html#a9a8c75a5684e5593c198955259e00fd7">SOPC_EncodeableType</a> *notificationType, uint32_t nbNotifElts, const void *notification, uintptr_t *monitoredItemCtxArray)</td></tr>
<tr class="memdesc:ada0a39e25997feef2d13599beb0738ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of callback called on Subscription Notification.  <br /></td></tr>
<tr class="separator:ada0a39e25997feef2d13599beb0738ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a8193a268137c5013e3f971c2045d3355" id="r_a8193a268137c5013e3f971c2045d3355"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a8193a268137c5013e3f971c2045d3355">SOPC_ClientConnectionEvent</a> { <a class="el" href="libs2opc__client_8h.html#a8193a268137c5013e3f971c2045d3355a269609ca6ff35a57a7349b3ae83d399e">SOPC_ClientConnectionEvent_Disconnected</a>
, <a class="el" href="libs2opc__client_8h.html#a8193a268137c5013e3f971c2045d3355a0e9fe79d1105cd0b650b211ffb98323c">SOPC_ClientConnectionEvent_Connected</a>
, <a class="el" href="libs2opc__client_8h.html#a8193a268137c5013e3f971c2045d3355a2c13f971a4fe0f3f3fce61705a281479">SOPC_ClientConnectionEvent_Reconnecting</a>
 }</td></tr>
<tr class="separator:a8193a268137c5013e3f971c2045d3355"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afa4947e462bb5fa20b4a167838b0128f" id="r_afa4947e462bb5fa20b4a167838b0128f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#afa4947e462bb5fa20b4a167838b0128f">SOPC_ClientHelper_DiscoveryServiceAsync</a> (<a class="el" href="structSOPC__SecureConnection__Config.html">SOPC_SecureConnection_Config</a> *secConnConfig, void *request, uintptr_t userContext)</td></tr>
<tr class="memdesc:afa4947e462bb5fa20b4a167838b0128f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a discovery request without user session creation and activation and retrieve response asynchronously. Service response callback configured through <a class="el" href="libs2opc__client__config_8h.html#a5b4feaad80d85385b22dc09c098e65db" title="Defines the service response callback to be used.">SOPC_ClientConfigHelper_SetServiceAsyncResponse</a> will be called on service response or in case of service request sending failure.  <br /></td></tr>
<tr class="separator:afa4947e462bb5fa20b4a167838b0128f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613534f7fe6afd8aded48a0ff4333097" id="r_a613534f7fe6afd8aded48a0ff4333097"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a613534f7fe6afd8aded48a0ff4333097">SOPC_ClientHelper_DiscoveryServiceSync</a> (<a class="el" href="structSOPC__SecureConnection__Config.html">SOPC_SecureConnection_Config</a> *secConnConfig, void *request, void **response)</td></tr>
<tr class="memdesc:a613534f7fe6afd8aded48a0ff4333097"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a discovery request without user session creation and activation and retrieve response synchronously.  <br /></td></tr>
<tr class="separator:a613534f7fe6afd8aded48a0ff4333097"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c25c3a78ff4310984f103bb4860a58" id="r_a42c25c3a78ff4310984f103bb4860a58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a42c25c3a78ff4310984f103bb4860a58">SOPC_ClientHelper_Connect</a> (<a class="el" href="structSOPC__SecureConnection__Config.html">SOPC_SecureConnection_Config</a> *secConnConfig, <a class="el" href="libs2opc__client_8h.html#a72edfff76138a1477189ffc3bb118f22">SOPC_ClientConnectionEvent_Fct</a> *connectEventCb, <a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> **secureConnection)</td></tr>
<tr class="memdesc:a42c25c3a78ff4310984f103bb4860a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Establishes the connection in a blocking way (synchronously).  <br /></td></tr>
<tr class="separator:a42c25c3a78ff4310984f103bb4860a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf144b5e1be278b85815810b433f1786" id="r_abf144b5e1be278b85815810b433f1786"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#abf144b5e1be278b85815810b433f1786">SOPC_ClientHelper_Disconnect</a> (<a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> **secureConnection)</td></tr>
<tr class="memdesc:abf144b5e1be278b85815810b433f1786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects the connection established with SOPC_ClientHelper_Connect in a blocking way (synchronously).  <br /></td></tr>
<tr class="separator:abf144b5e1be278b85815810b433f1786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc21d1ef8a3f6e31ec1ac8970c2aba44" id="r_afc21d1ef8a3f6e31ec1ac8970c2aba44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#afc21d1ef8a3f6e31ec1ac8970c2aba44">SOPC_ClientHelper_ServiceAsync</a> (<a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> *secureConnection, void *request, uintptr_t userContext)</td></tr>
<tr class="memdesc:afc21d1ef8a3f6e31ec1ac8970c2aba44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes an OPC UA service on server (read, write, browse, discovery service, etc.) asynchronously. Service response callback configured through <a class="el" href="libs2opc__client__config_8h.html#a5b4feaad80d85385b22dc09c098e65db" title="Defines the service response callback to be used.">SOPC_ClientConfigHelper_SetServiceAsyncResponse</a> will be called on service response or in case of service request sending failure.  <br /></td></tr>
<tr class="separator:afc21d1ef8a3f6e31ec1ac8970c2aba44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a047432c68e3c483a1f3e38d6e55a65d5" id="r_a047432c68e3c483a1f3e38d6e55a65d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a047432c68e3c483a1f3e38d6e55a65d5">SOPC_ClientHelper_ServiceSync</a> (<a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> *secureConnection, void *request, void **response)</td></tr>
<tr class="memdesc:a047432c68e3c483a1f3e38d6e55a65d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes an OPC UA service on server (read, write, browse, discovery service, etc.) synchronously.  <br /></td></tr>
<tr class="separator:a047432c68e3c483a1f3e38d6e55a65d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bd8dde3185082ef18f40eaf9036a812" id="r_a0bd8dde3185082ef18f40eaf9036a812"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a0bd8dde3185082ef18f40eaf9036a812">SOPC_ClientHelper_CreateSubscription</a> (<a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> *secureConnection, <a class="el" href="sopc__types_8h.html#a545146fc79e1c63c3d149cafb11f5a22">OpcUa_CreateSubscriptionRequest</a> *subParams, <a class="el" href="libs2opc__client_8h.html#ada0a39e25997feef2d13599beb0738ca">SOPC_ClientSubscriptionNotification_Fct</a> *subNotifCb, uintptr_t userParam)</td></tr>
<tr class="memdesc:a0bd8dde3185082ef18f40eaf9036a812"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a subscription on the server.  <br /></td></tr>
<tr class="separator:a0bd8dde3185082ef18f40eaf9036a812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4b23a70370b4798e5f54e2f0fd2079" id="r_aaf4b23a70370b4798e5f54e2f0fd2079"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#aaf4b23a70370b4798e5f54e2f0fd2079">SOPC_ClientHelper_DeleteSubscription</a> (<a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> **subscription)</td></tr>
<tr class="memdesc:aaf4b23a70370b4798e5f54e2f0fd2079"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes a subscription on the server.  <br /></td></tr>
<tr class="separator:aaf4b23a70370b4798e5f54e2f0fd2079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4320202f5aae8649a400d185edd54b3" id="r_ac4320202f5aae8649a400d185edd54b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#ac4320202f5aae8649a400d185edd54b3">SOPC_ClientHelper_Subscription_SetAvailableTokens</a> (<a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription, uint32_t nbPublishTokens)</td></tr>
<tr class="memdesc:ac4320202f5aae8649a400d185edd54b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the number of publish tokens to be used for the subscription. This number shall be greater than 0 and indicates the number of publish request sent to the server that might be used to send back notifications.  <br /></td></tr>
<tr class="separator:ac4320202f5aae8649a400d185edd54b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc7a36b80e740ed791a583a3fc09c156" id="r_abc7a36b80e740ed791a583a3fc09c156"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#abc7a36b80e740ed791a583a3fc09c156">SOPC_ClientHelper_Subscription_GetRevisedParameters</a> (<a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription, double *revisedPublishingInterval, uint32_t *revisedLifetimeCount, uint32_t *revisedMaxKeepAliveCount)</td></tr>
<tr class="memdesc:abc7a36b80e740ed791a583a3fc09c156"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the created subscription parameters values revised by the server.  <br /></td></tr>
<tr class="separator:abc7a36b80e740ed791a583a3fc09c156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a86e21918b4c2d9b21c3ad39cd874e" id="r_a40a86e21918b4c2d9b21c3ad39cd874e"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a40a86e21918b4c2d9b21c3ad39cd874e">SOPC_ClientHelper_Subscription_GetUserParam</a> (const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription)</td></tr>
<tr class="memdesc:a40a86e21918b4c2d9b21c3ad39cd874e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the user parameter defined in <a class="el" href="libs2opc__client_8h.html#a0bd8dde3185082ef18f40eaf9036a812" title="Creates a subscription on the server.">SOPC_ClientHelper_CreateSubscription</a>.  <br /></td></tr>
<tr class="separator:a40a86e21918b4c2d9b21c3ad39cd874e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a236b55d73c7b73af1b875384454b727c" id="r_a236b55d73c7b73af1b875384454b727c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a236b55d73c7b73af1b875384454b727c">SOPC_ClientHelper_GetSecureConnection</a> (const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription)</td></tr>
<tr class="memdesc:a236b55d73c7b73af1b875384454b727c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the secure connection on which the subscription rely on.  <br /></td></tr>
<tr class="separator:a236b55d73c7b73af1b875384454b727c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e806306ae6ab0d43da9602e9bdc5576" id="r_a6e806306ae6ab0d43da9602e9bdc5576"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a6e806306ae6ab0d43da9602e9bdc5576">SOPC_ClientHelper_GetSubscriptionId</a> (const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription, uint32_t *pSubscriptionId)</td></tr>
<tr class="memdesc:a6e806306ae6ab0d43da9602e9bdc5576"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the subscription Id associated to the subscription. It should only be used in the context of server method calls (ConditionRefresh, etc.) and is not referenced by the rest of this client API.  <br /></td></tr>
<tr class="separator:a6e806306ae6ab0d43da9602e9bdc5576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164010777656815ba0f77d4c1c6198e0" id="r_a164010777656815ba0f77d4c1c6198e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a164010777656815ba0f77d4c1c6198e0">SOPC_ClientHelper_Subscription_CreateMonitoredItems</a> (const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription, <a class="el" href="sopc__types_8h.html#a2f0cca05cc369d2d8a287285d9c0d141">OpcUa_CreateMonitoredItemsRequest</a> *monitoredItemsReq, const uintptr_t *monitoredItemCtxArray, <a class="el" href="sopc__types_8h.html#a5ac9ad70e862d38addfb259e139182dc">OpcUa_CreateMonitoredItemsResponse</a> *monitoredItemsResp)</td></tr>
<tr class="memdesc:a164010777656815ba0f77d4c1c6198e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates new monitored items on the given subscription. A context array might be provided and context will be provided on notification for corresponding monitored item in notification callback. A pointer to empty message response might be provided to retrieve the creation result and monitored item id affected by the server (needed to modify or delete monitored items prior to subscription deletion)  <br /></td></tr>
<tr class="separator:a164010777656815ba0f77d4c1c6198e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ac99bba2baf503ab01532569ab313f" id="r_a09ac99bba2baf503ab01532569ab313f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a09ac99bba2baf503ab01532569ab313f">SOPC_ClientHelper_Subscription_DeleteMonitoredItems</a> (const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription, <a class="el" href="sopc__types_8h.html#af897cf6dd169242c3aaaf283236ecade">OpcUa_DeleteMonitoredItemsRequest</a> *delMonitoredItemsReq, <a class="el" href="sopc__types_8h.html#aee230b76ef751bfbba7af78e13af4d31">OpcUa_DeleteMonitoredItemsResponse</a> *delMonitoredItemsResp)</td></tr>
<tr class="memdesc:a09ac99bba2baf503ab01532569ab313f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes monitored items on the given subscription using the server monitored item ids. A pointer to empty message response might be provided to retrieve the deletion result.  <br /></td></tr>
<tr class="separator:a09ac99bba2baf503ab01532569ab313f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ecc89a2c5a6fca287ab2211cebc3573" id="r_a2ecc89a2c5a6fca287ab2211cebc3573"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a2ecc89a2c5a6fca287ab2211cebc3573">SOPC_ClientHelper_Subscription_SyncService</a> (const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription, void *subOrMIrequest, void **subOrMIresponse)</td></tr>
<tr class="memdesc:a2ecc89a2c5a6fca287ab2211cebc3573"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes an OPC UA service on server related to the given subscription synchronously.  <br /></td></tr>
<tr class="separator:a2ecc89a2c5a6fca287ab2211cebc3573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75e5273140169662e196b8704230e127" id="r_a75e5273140169662e196b8704230e127"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="libs2opc__client_8h.html#a75e5273140169662e196b8704230e127">SOPC_ClientHelper_Subscription_AsyncService</a> (const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription, void *subOrMIrequest, uintptr_t userContext)</td></tr>
<tr class="memdesc:a75e5273140169662e196b8704230e127"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes an OPC UA service on server related to the given subscription asynchronously. Service response callback configured through <a class="el" href="libs2opc__client__config_8h.html#a5b4feaad80d85385b22dc09c098e65db" title="Defines the service response callback to be used.">SOPC_ClientConfigHelper_SetServiceAsyncResponse</a> will be called on service response or in case of service request sending failure.  <br /></td></tr>
<tr class="separator:a75e5273140169662e196b8704230e127"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>High level interface to run an OPC UA client. </p>
<p>Once the client is configured using functions of <a class="el" href="libs2opc__client__config_8h.html" title="High level interface to configure an OPC UA client.">libs2opc_client_config.h</a>, the client should establish connection using <a class="el" href="libs2opc__client_8h.html#a42c25c3a78ff4310984f103bb4860a58" title="Establishes the connection in a blocking way (synchronously).">SOPC_ClientHelper_Connect</a> or call a discovery service using <a class="el" href="libs2opc__client_8h.html#afa4947e462bb5fa20b4a167838b0128f" title="Sends a discovery request without user session creation and activation and retrieve response asynchro...">SOPC_ClientHelper_DiscoveryServiceAsync</a> (or <a class="el" href="libs2opc__client_8h.html#a613534f7fe6afd8aded48a0ff4333097" title="Sends a discovery request without user session creation and activation and retrieve response synchron...">SOPC_ClientHelper_DiscoveryServiceSync</a>). Until connection is stopped by a call to <a class="el" href="libs2opc__client_8h.html#abf144b5e1be278b85815810b433f1786" title="Disconnects the connection established with SOPC_ClientHelper_Connect in a blocking way (synchronousl...">SOPC_ClientHelper_Disconnect</a> or due to an error (socket closed, etc.), the client application might use the connections. This is done using OPC UA services using <a class="el" href="libs2opc__client_8h.html#afc21d1ef8a3f6e31ec1ac8970c2aba44" title="Executes an OPC UA service on server (read, write, browse, discovery service, etc....">SOPC_ClientHelper_ServiceAsync</a> (or <a class="el" href="libs2opc__client_8h.html#a047432c68e3c483a1f3e38d6e55a65d5" title="Executes an OPC UA service on server (read, write, browse, discovery service, etc....">SOPC_ClientHelper_ServiceSync</a>). The request messages can be built using the helper functions of <a class="el" href="libs2opc__request__builder_8h.html" title="High level interface to build OPC UA request and access OPC UA response.">libs2opc_request_builder.h</a> (e.g.: <a class="el" href="libs2opc__request__builder_8h.html#a74780c54c309f430e9711d3edc81bae8" title="Creates a read request.">SOPC_ReadRequest_Create</a>, <a class="el" href="libs2opc__request__builder_8h.html#ad4173e51037e5a579c75c88ed136f531" title="Sets the value to read at given index in read request.">SOPC_ReadRequest_SetReadValue</a>, etc.).</p>
<p>Dedicated functions are provided to handle subscriptions: <a class="el" href="libs2opc__client_8h.html#a0bd8dde3185082ef18f40eaf9036a812" title="Creates a subscription on the server.">SOPC_ClientHelper_CreateSubscription</a> (<a class="el" href="libs2opc__client_8h.html#aaf4b23a70370b4798e5f54e2f0fd2079" title="Deletes a subscription on the server.">SOPC_ClientHelper_DeleteSubscription</a>) to create (delete) a unique subscription instance for the connection. <a class="el" href="libs2opc__client_8h.html#a164010777656815ba0f77d4c1c6198e0" title="Creates new monitored items on the given subscription. A context array might be provided and context ...">SOPC_ClientHelper_Subscription_CreateMonitoredItems</a> (<a class="el" href="libs2opc__client_8h.html#a09ac99bba2baf503ab01532569ab313f" title="Deletes monitored items on the given subscription using the server monitored item ids....">SOPC_ClientHelper_Subscription_DeleteMonitoredItems</a>) to create (delete) monitored items in a subscription instance. <a class="el" href="libs2opc__client_8h.html#a75e5273140169662e196b8704230e127" title="Executes an OPC UA service on server related to the given subscription asynchronously....">SOPC_ClientHelper_Subscription_AsyncService</a> and <a class="el" href="libs2opc__client_8h.html#a2ecc89a2c5a6fca287ab2211cebc3573" title="Executes an OPC UA service on server related to the given subscription synchronously.">SOPC_ClientHelper_Subscription_SyncService</a> to call other subscription related services on the subscription instance. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a407eb71da8d574a5e1f3036ebaf8d4cc" name="a407eb71da8d574a5e1f3036ebaf8d4cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a407eb71da8d574a5e1f3036ebaf8d4cc">&#9670;&#160;</a></span>SOPC_ClientConnection</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> <a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Structure representing a secure connection to a server. </p>

</div>
</div>
<a id="a72edfff76138a1477189ffc3bb118f22" name="a72edfff76138a1477189ffc3bb118f22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72edfff76138a1477189ffc3bb118f22">&#9670;&#160;</a></span>SOPC_ClientConnectionEvent_Fct</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void SOPC_ClientConnectionEvent_Fct(<a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> *conn, <a class="el" href="libs2opc__client_8h.html#a8193a268137c5013e3f971c2045d3355">SOPC_ClientConnectionEvent</a> event, <a class="el" href="sopc__builtintypes_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> status)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of callback called on client connection event. </p>
<dl class="section warning"><dt>Warning</dt><dd>No blocking operation shall be done in callback</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>Indicates the connection concerned by the event </td></tr>
    <tr><td class="paramname">event</td><td>The event that occurred on the connection </td></tr>
    <tr><td class="paramname">status</td><td>Indicates the return status of client connection </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abad83b454d2fc38e96b0f8808d69058d" name="abad83b454d2fc38e96b0f8808d69058d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abad83b454d2fc38e96b0f8808d69058d">&#9670;&#160;</a></span>SOPC_ClientHelper_Subscription</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ada0a39e25997feef2d13599beb0738ca" name="ada0a39e25997feef2d13599beb0738ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada0a39e25997feef2d13599beb0738ca">&#9670;&#160;</a></span>SOPC_ClientSubscriptionNotification_Fct</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void SOPC_ClientSubscriptionNotification_Fct(const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *subscription, <a class="el" href="sopc__builtintypes_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> status, <a class="el" href="sopc__encodeabletype_8h.html#a9a8c75a5684e5593c198955259e00fd7">SOPC_EncodeableType</a> *notificationType, uint32_t nbNotifElts, const void *notification, uintptr_t *monitoredItemCtxArray)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of callback called on Subscription Notification. </p>
<dl class="section warning"><dt>Warning</dt><dd>No blocking operation shall be done in callback (e.g. call to <a class="el" href="libs2opc__client_8h.html#a164010777656815ba0f77d4c1c6198e0" title="Creates new monitored items on the given subscription. A context array might be provided and context ...">SOPC_ClientHelper_Subscription_CreateMonitoredItems</a> and <a class="el" href="libs2opc__client_8h.html#a2ecc89a2c5a6fca287ab2211cebc3573" title="Executes an OPC UA service on server related to the given subscription synchronously.">SOPC_ClientHelper_Subscription_SyncService</a> are forbidden)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subscription</td><td>Indicates the subscription concerned by the notification </td></tr>
    <tr><td class="paramname">status</td><td>OPC UA status code for the subscription, <code>notification</code> is only valid when <a class="el" href="sopc__builtintypes_8h.html#ad4bbc020bdcf592ee8c9ddd2cbc46e20" title="Evaluates if the provided status is Good.">SOPC_IsGoodStatus</a> </td></tr>
    <tr><td class="paramname">notificationType</td><td>Type of notification received (<a class="el" href="sopc__types_8h.html#a6219522a467c8434a8ad36e7a92945a4">OpcUa_DataChangeNotification_EncodeableType</a> or <a class="el" href="sopc__types_8h.html#a2b196bf243ecca8209728cd8ef7fd511">OpcUa_EventNotificationList_EncodeableType</a>) or NULL (if <code>status</code> is not good) </td></tr>
    <tr><td class="paramname">nbNotifElts</td><td>Number of elements in <code>notification</code> received and in <code>monitoredItemCtxArray</code> </td></tr>
    <tr><td class="paramname">notification</td><td>Notification of the type indicated by <code>notificationType</code>, either pointer to a <a class="el" href="sopc__types_8h.html#a690035b5845c6d6aed643432c5e133bb">OpcUa_DataChangeNotification</a> or <a class="el" href="sopc__types_8h.html#a470135a02c47f15040af93d8b13a703b">OpcUa_EventNotificationList</a>. Or NULL if <code>status</code> is not good. Content is freed after callback return, thus any content to record shall be copied. </td></tr>
    <tr><td class="paramname">monitoredItemCtxArray</td><td>Array of context for monitored items for which notification were received in <code>notification</code>. Notification element and monitored item context have the same index in the array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a8193a268137c5013e3f971c2045d3355" name="a8193a268137c5013e3f971c2045d3355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8193a268137c5013e3f971c2045d3355">&#9670;&#160;</a></span>SOPC_ClientConnectionEvent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="libs2opc__client_8h.html#a8193a268137c5013e3f971c2045d3355">SOPC_ClientConnectionEvent</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a8193a268137c5013e3f971c2045d3355a269609ca6ff35a57a7349b3ae83d399e" name="a8193a268137c5013e3f971c2045d3355a269609ca6ff35a57a7349b3ae83d399e"></a>SOPC_ClientConnectionEvent_Disconnected&#160;</td><td class="fielddoc"><p>Connection terminated unexpectedly, it will not be established again unless a new connection attempt is done. To do a new attempt the following functions shall be called:</p><ul>
<li><a class="el" href="libs2opc__client_8h.html#abf144b5e1be278b85815810b433f1786" title="Disconnects the connection established with SOPC_ClientHelper_Connect in a blocking way (synchronousl...">SOPC_ClientHelper_Disconnect</a> on current connection</li>
<li><a class="el" href="libs2opc__client_8h.html#a42c25c3a78ff4310984f103bb4860a58" title="Establishes the connection in a blocking way (synchronously).">SOPC_ClientHelper_Connect</a> to create a new connection </li>
</ul>
</td></tr>
<tr><td class="fieldname"><a id="a8193a268137c5013e3f971c2045d3355a0e9fe79d1105cd0b650b211ffb98323c" name="a8193a268137c5013e3f971c2045d3355a0e9fe79d1105cd0b650b211ffb98323c"></a>SOPC_ClientConnectionEvent_Connected&#160;</td><td class="fielddoc"><p>(NOT IMPLEMENTED YET) Connection established (SC &amp; session), only triggered when asynchronous SOPC_ClientHelper_StartConnection is used or in case of reconnection. </p>
</td></tr>
<tr><td class="fieldname"><a id="a8193a268137c5013e3f971c2045d3355a2c13f971a4fe0f3f3fce61705a281479" name="a8193a268137c5013e3f971c2045d3355a2c13f971a4fe0f3f3fce61705a281479"></a>SOPC_ClientConnectionEvent_Reconnecting&#160;</td><td class="fielddoc"><p>(NOT IMPLEMENTED YET) Connection temporarily interrupted, attempt to re-establish connection on-going. Do not use connection until Connected event received </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="afa4947e462bb5fa20b4a167838b0128f" name="afa4947e462bb5fa20b4a167838b0128f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4947e462bb5fa20b4a167838b0128f">&#9670;&#160;</a></span>SOPC_ClientHelper_DiscoveryServiceAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_DiscoveryServiceAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOPC__SecureConnection__Config.html">SOPC_SecureConnection_Config</a> *&#160;</td>
          <td class="paramname"><em>secConnConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>userContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a discovery request without user session creation and activation and retrieve response asynchronously. Service response callback configured through <a class="el" href="libs2opc__client__config_8h.html#a5b4feaad80d85385b22dc09c098e65db" title="Defines the service response callback to be used.">SOPC_ClientConfigHelper_SetServiceAsyncResponse</a> will be called on service response or in case of service request sending failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">secConnConfig</td><td>The secure connection configuration. </td></tr>
    <tr><td class="paramname">request</td><td>An instance of one of the following OPC UA request:<ul>
<li><a class="el" href="sopc__types_8h.html#abe197aeed46a73ccedcd82b5ad294a42">OpcUa_FindServersRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a06c2a267179ed91bd3b5ae5da6d075cc">OpcUa_FindServersOnNetworkRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#ae64646b513a1d0cd029f440471c75e79">OpcUa_GetEndpointsRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a80a9f54e7e2f6424d2248817612c8b46">OpcUa_RegisterServerRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#afadd9038316f5832b7ccea9f3c1c8210">OpcUa_RegisterServer2Request</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>The request messages can be built using the helper functions of <a class="el" href="libs2opc__request__builder_8h.html" title="High level interface to build OPC UA request and access OPC UA response.">libs2opc_request_builder.h</a> (e.g.: <a class="el" href="libs2opc__request__builder_8h.html#acc1e441c665722a161d0feaa944d2fda" title="Creates a GetEndpoint request for the given endpoint URL.">SOPC_GetEndpointsRequest_Create</a>, <a class="el" href="libs2opc__request__builder_8h.html#aedff84ad1b847bcf72a8eda0fb1e35ee" title="Requests preferred locales for the endpoints to be returned by the get endpoints service (Optional) P...">SOPC_GetEndpointsRequest_SetPreferredLocales</a>, etc.).</p>
<p>Note: it shall be allocated on heap since it will be freed by S2OPC library during treatment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userContext</td><td>User defined context that will be provided with the corresponding response in <a class="el" href="libs2opc__server__config_8h.html#ab044fa72d01b0a3cf2340a4265cb2ba6" title="Type of callback to provide to receive asynchronous local service response.">SOPC_LocalServiceAsyncResp_Fct</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, otherwise SOPC_STATUS_INVALID_STATE if the client is not running.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The provided <code>request</code> memory is managed by the function after this call (even in case of error) and shall not be accessed nor freed after call.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If the server endpoint is not a discovery endpoint, or an activated session is expected, usual connection and generic services functions shall be used.</dd>
<dd>
Caller of this API should wait at least <a class="el" href="sopc__toolkit__config__constants_8h.html#aca19bff159e78da6fd6a8c8c58453581" title="Maximum time before a response shall be received after sending a request (0 means no limit)....">SOPC_REQUEST_TIMEOUT_MS</a> milliseconds after calling this function and prior to call <a class="el" href="libs2opc__client__config_8h.html#ae28b964a0689f83201644982017e24e9" title="Clears the S2OPC client frontend configuration It shall be done before a call to SOPC_CommonHelper_Cl...">SOPC_ClientConfigHelper_Clear</a>. It is necessary to ensure asynchronous context is freed and no memory leak occurs. </dd></dl>

</div>
</div>
<a id="a613534f7fe6afd8aded48a0ff4333097" name="a613534f7fe6afd8aded48a0ff4333097"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a613534f7fe6afd8aded48a0ff4333097">&#9670;&#160;</a></span>SOPC_ClientHelper_DiscoveryServiceSync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_DiscoveryServiceSync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOPC__SecureConnection__Config.html">SOPC_SecureConnection_Config</a> *&#160;</td>
          <td class="paramname"><em>secConnConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a discovery request without user session creation and activation and retrieve response synchronously. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">secConnConfig</td><td>The secure connection configuration. </td></tr>
    <tr><td class="paramname">request</td><td>An instance of one of the following OPC UA request:<ul>
<li><a class="el" href="sopc__types_8h.html#abe197aeed46a73ccedcd82b5ad294a42">OpcUa_FindServersRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a06c2a267179ed91bd3b5ae5da6d075cc">OpcUa_FindServersOnNetworkRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#ae64646b513a1d0cd029f440471c75e79">OpcUa_GetEndpointsRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a80a9f54e7e2f6424d2248817612c8b46">OpcUa_RegisterServerRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#afadd9038316f5832b7ccea9f3c1c8210">OpcUa_RegisterServer2Request</a></li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>The request messages can be built using the helper functions of <a class="el" href="libs2opc__request__builder_8h.html" title="High level interface to build OPC UA request and access OPC UA response.">libs2opc_request_builder.h</a> (e.g.: <a class="el" href="libs2opc__request__builder_8h.html#acc1e441c665722a161d0feaa944d2fda" title="Creates a GetEndpoint request for the given endpoint URL.">SOPC_GetEndpointsRequest_Create</a>, <a class="el" href="libs2opc__request__builder_8h.html#aedff84ad1b847bcf72a8eda0fb1e35ee" title="Requests preferred locales for the endpoints to be returned by the get endpoints service (Optional) P...">SOPC_GetEndpointsRequest_SetPreferredLocales</a>, etc.).</p>
<p>Note: it shall be allocated on heap since it will be freed by S2OPC library during treatment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">response</td><td>Pointer into which instance of response complying with the OPC UA request is provided: <ul>
<li><a class="el" href="sopc__types_8h.html#ab2a1ca37e68017cef8a66a3899f1ec7d">OpcUa_FindServersResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#ab6f324483a41a94e6d6ada49f96517ab">OpcUa_FindServersOnNetworkResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#aca63b6fbe46cc6226e52f3a3e1d35501">OpcUa_GetEndpointsResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#aca63b6fbe46cc6226e52f3a3e1d35501">OpcUa_GetEndpointsResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#ac66ba1e018e0c011c3e57dbe9061bebf">OpcUa_RegisterServerResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#acd12a7fc03397ecf8237dad38f417f4f">OpcUa_RegisterServer2Response</a></li>
</ul>
In case of service failure the response type is always <a class="el" href="sopc__types_8h.html#a813d4f1fb96d8007c4e54b2fe279517d">OpcUa_ServiceFault</a>, in this case the <code>response.encodeableType</code> points to <a class="el" href="sopc__types_8h.html#ae2431428f899faa8da7efe65fe9ee196">OpcUa_ServiceFault_EncodeableType</a> and <a class="el" href="sopc__builtintypes_8h.html#ad4bbc020bdcf592ee8c9ddd2cbc46e20" title="Evaluates if the provided status is Good.">SOPC_IsGoodStatus</a>(<code>response.ResponseHeader.ServiceResult</code>) is <code>false</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_TIMEOUT in case of timeout to receive response, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, SOPC_STATUS_INVALID_STATE if the client is not running. And dedicated status if request sending failed.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The provided <code>request</code> memory is managed by the function after this call (even in case of error) and shall not be accessed nor freed after call. </dd>
<dd>
Caller is responsible of output <code>response</code> memory after successful call</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>If the server endpoint is not a discovery endpoint, or an activated session is expected, usual connection and generic services functions shall be used.</dd>
<dd>
Service synchronous call shall only be called from the application thread and shall not be called from client callbacks used for notification, asynchronous response, client event, etc. (<a class="el" href="libs2opc__client__config_8h.html#adf015cd4adff621a0fea9cfa2890c17e" title="Type of callback to provide asynchronous service response.">SOPC_ServiceAsyncResp_Fct</a>, <a class="el" href="libs2opc__client_8h.html#a72edfff76138a1477189ffc3bb118f22" title="Type of callback called on client connection event.">SOPC_ClientConnectionEvent_Fct</a>, etc.). Otherwise this will lead to a deadlock situation. </dd></dl>

</div>
</div>
<a id="a42c25c3a78ff4310984f103bb4860a58" name="a42c25c3a78ff4310984f103bb4860a58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42c25c3a78ff4310984f103bb4860a58">&#9670;&#160;</a></span>SOPC_ClientHelper_Connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_Connect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOPC__SecureConnection__Config.html">SOPC_SecureConnection_Config</a> *&#160;</td>
          <td class="paramname"><em>secConnConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#a72edfff76138a1477189ffc3bb118f22">SOPC_ClientConnectionEvent_Fct</a> *&#160;</td>
          <td class="paramname"><em>connectEventCb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> **&#160;</td>
          <td class="paramname"><em>secureConnection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Establishes the connection in a blocking way (synchronously). </p>
<dl class="section warning"><dt>Warning</dt><dd>A single connection can be established for a given secure connection <code>secConnConfig</code> .</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">secConnConfig</td><td>The secure connection configuration to establish </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">connectEventCb</td><td>Callback called on connection event, it is only used in case of further unexpected disconnection</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">secureConnection</td><td>Pointer to the secure connection established when returned value is SOPC_STATUS_OK</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_CLOSED in case of failure, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, otherwise SOPC_STATUS_INVALID_STATE if the configuration is not possible (toolkit not initialized, connection state unexpected, connection already established). </dd></dl>

</div>
</div>
<a id="abf144b5e1be278b85815810b433f1786" name="abf144b5e1be278b85815810b433f1786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf144b5e1be278b85815810b433f1786">&#9670;&#160;</a></span>SOPC_ClientHelper_Disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_Disconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> **&#160;</td>
          <td class="paramname"><em>secureConnection</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects the connection established with SOPC_ClientHelper_Connect in a blocking way (synchronously). </p>
<dl class="section warning"><dt>Warning</dt><dd>This function shall not be called if pointed <code>secureConnection</code> is currently in use for any other operation and shall be prevented to be used for other operation. Internal references to <code>secureConnection</code> should have been cleared prior to this call.</dd>
<dd>
If a subscription was created on this connection using <a class="el" href="libs2opc__client_8h.html#a0bd8dde3185082ef18f40eaf9036a812" title="Creates a subscription on the server.">SOPC_ClientHelper_CreateSubscription</a> and was not deleted since then, it will be automatically deleted and the subscription pointer shall not be used anymore after this call.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">secureConnection</td><td>Pointer to the secure connection reference to stop, set to NULL during successful call.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, otherwise SOPC_STATUS_INVALID_STATE if the connection is already disconnected </dd></dl>

</div>
</div>
<a id="afc21d1ef8a3f6e31ec1ac8970c2aba44" name="afc21d1ef8a3f6e31ec1ac8970c2aba44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc21d1ef8a3f6e31ec1ac8970c2aba44">&#9670;&#160;</a></span>SOPC_ClientHelper_ServiceAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_ServiceAsync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> *&#160;</td>
          <td class="paramname"><em>secureConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>userContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes an OPC UA service on server (read, write, browse, discovery service, etc.) asynchronously. Service response callback configured through <a class="el" href="libs2opc__client__config_8h.html#a5b4feaad80d85385b22dc09c098e65db" title="Defines the service response callback to be used.">SOPC_ClientConfigHelper_SetServiceAsyncResponse</a> will be called on service response or in case of service request sending failure. </p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="libs2opc__client_8h.html#a42c25c3a78ff4310984f103bb4860a58" title="Establishes the connection in a blocking way (synchronously).">SOPC_ClientHelper_Connect</a> shall have been called and the connection shall be still active</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">secureConnection</td><td>The client connection instance to use to execute the service </td></tr>
    <tr><td class="paramname">request</td><td>An instance of one of the following OPC UA request:<ul>
<li><a class="el" href="sopc__types_8h.html#aed9198a8cbdd05b6818034ecb4b3a3b1">OpcUa_ReadRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a065a536c54432f99645effc7f16e240a">OpcUa_WriteRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a9cab834d7c5fa7a948e5a5d9f7e016db">OpcUa_BrowseRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a33685ba2b2d8a003a93ac20525e857a5">OpcUa_TranslateBrowsePathsToNodeIdsRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#ae64646b513a1d0cd029f440471c75e79">OpcUa_GetEndpointsRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#abe197aeed46a73ccedcd82b5ad294a42">OpcUa_FindServersRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a06c2a267179ed91bd3b5ae5da6d075cc">OpcUa_FindServersOnNetworkRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#afadd9038316f5832b7ccea9f3c1c8210">OpcUa_RegisterServer2Request</a></li>
<li>etc, ...</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>The request messages can be built using the helper functions of <a class="el" href="libs2opc__request__builder_8h.html" title="High level interface to build OPC UA request and access OPC UA response.">libs2opc_request_builder.h</a> (e.g.: <a class="el" href="libs2opc__request__builder_8h.html#a74780c54c309f430e9711d3edc81bae8" title="Creates a read request.">SOPC_ReadRequest_Create</a>, <a class="el" href="libs2opc__request__builder_8h.html#ad4173e51037e5a579c75c88ed136f531" title="Sets the value to read at given index in read request.">SOPC_ReadRequest_SetReadValue</a>, etc.).</p>
<p>Note: it shall be allocated on heap since it will be freed by S2OPC library during treatment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userContext</td><td>User defined context that will be provided with the corresponding response in <a class="el" href="libs2opc__server__config_8h.html#ab044fa72d01b0a3cf2340a4265cb2ba6" title="Type of callback to provide to receive asynchronous local service response.">SOPC_LocalServiceAsyncResp_Fct</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, otherwise SOPC_STATUS_INVALID_STATE if the client is not running.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The provided <code>request</code> memory is managed by the function after this call (even in case of error) and shall not be accessed nor freed after call.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Caller of this API should wait at least <a class="el" href="sopc__toolkit__config__constants_8h.html#aca19bff159e78da6fd6a8c8c58453581" title="Maximum time before a response shall be received after sending a request (0 means no limit)....">SOPC_REQUEST_TIMEOUT_MS</a> milliseconds after calling this function and prior to call <a class="el" href="libs2opc__client__config_8h.html#ae28b964a0689f83201644982017e24e9" title="Clears the S2OPC client frontend configuration It shall be done before a call to SOPC_CommonHelper_Cl...">SOPC_ClientConfigHelper_Clear</a>. It is necessary to ensure asynchronous context is freed and no memory leak occurs. </dd></dl>

</div>
</div>
<a id="a047432c68e3c483a1f3e38d6e55a65d5" name="a047432c68e3c483a1f3e38d6e55a65d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a047432c68e3c483a1f3e38d6e55a65d5">&#9670;&#160;</a></span>SOPC_ClientHelper_ServiceSync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_ServiceSync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> *&#160;</td>
          <td class="paramname"><em>secureConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes an OPC UA service on server (read, write, browse, discovery service, etc.) synchronously. </p>
<dl class="section note"><dt>Note</dt><dd><a class="el" href="libs2opc__client_8h.html#a42c25c3a78ff4310984f103bb4860a58" title="Establishes the connection in a blocking way (synchronously).">SOPC_ClientHelper_Connect</a> shall have been called and the connection shall be still active</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">secureConnection</td><td>The client connection instance to use to execute the service </td></tr>
    <tr><td class="paramname">request</td><td>An instance of OPC UA request:<ul>
<li><a class="el" href="sopc__types_8h.html#aed9198a8cbdd05b6818034ecb4b3a3b1">OpcUa_ReadRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a065a536c54432f99645effc7f16e240a">OpcUa_WriteRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a9cab834d7c5fa7a948e5a5d9f7e016db">OpcUa_BrowseRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a33685ba2b2d8a003a93ac20525e857a5">OpcUa_TranslateBrowsePathsToNodeIdsRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#ae64646b513a1d0cd029f440471c75e79">OpcUa_GetEndpointsRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#abe197aeed46a73ccedcd82b5ad294a42">OpcUa_FindServersRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a06c2a267179ed91bd3b5ae5da6d075cc">OpcUa_FindServersOnNetworkRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#afadd9038316f5832b7ccea9f3c1c8210">OpcUa_RegisterServer2Request</a></li>
<li>etc, ...</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<p>The request messages can be built using the helper functions of <a class="el" href="libs2opc__request__builder_8h.html" title="High level interface to build OPC UA request and access OPC UA response.">libs2opc_request_builder.h</a> (e.g.: <a class="el" href="libs2opc__request__builder_8h.html#a74780c54c309f430e9711d3edc81bae8" title="Creates a read request.">SOPC_ReadRequest_Create</a>, <a class="el" href="libs2opc__request__builder_8h.html#ad4173e51037e5a579c75c88ed136f531" title="Sets the value to read at given index in read request.">SOPC_ReadRequest_SetReadValue</a>, etc.).</p>
<p>Note: it shall be allocated on heap since it will be freed by S2OPC library during treatment.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">response</td><td>Pointer into which instance of response complying with the OPC UA request is provided: <ul>
<li><a class="el" href="sopc__types_8h.html#a4c3d2189ef1613380cda420976b9c7e0">OpcUa_ReadResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#aed6fb2c81e323885d0d20ca8c4a37442">OpcUa_WriteResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#a36f78a77fd677db7fedf3ccefdc52fa4">OpcUa_BrowseResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#a013b211d538737b60b26936f1810bda3">OpcUa_TranslateBrowsePathsToNodeIdsResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#aca63b6fbe46cc6226e52f3a3e1d35501">OpcUa_GetEndpointsResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#ab2a1ca37e68017cef8a66a3899f1ec7d">OpcUa_FindServersResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#ab6f324483a41a94e6d6ada49f96517ab">OpcUa_FindServersOnNetworkResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#acd12a7fc03397ecf8237dad38f417f4f">OpcUa_RegisterServer2Response</a> </li>
<li>etc, ...</li>
</ul>
In case of service failure the response type is always <a class="el" href="sopc__types_8h.html#a813d4f1fb96d8007c4e54b2fe279517d">OpcUa_ServiceFault</a>, in this case the <code>response.encodeableType</code> points to <a class="el" href="sopc__types_8h.html#ae2431428f899faa8da7efe65fe9ee196">OpcUa_ServiceFault_EncodeableType</a> and <a class="el" href="sopc__builtintypes_8h.html#ad4bbc020bdcf592ee8c9ddd2cbc46e20" title="Evaluates if the provided status is Good.">SOPC_IsGoodStatus</a>(<code>response.ResponseHeader.ServiceResult</code>) is <code>false</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_TIMEOUT in case of timeout to receive response, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, SOPC_STATUS_INVALID_STATE if the client is not running. And dedicated status if request sending failed.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The provided <code>request</code> memory is managed by the function after this call (even in case of error) and shall not be accessed nor freed after call. </dd>
<dd>
Caller is responsible of output response memory after successful call. E.g. use <a class="el" href="sopc__encodeabletype_8h.html#ab79c8952d7c0d7cdc6c726f2b0984ea2" title="Clear and deallocate an encodeable object of the given encodeable type.">SOPC_EncodeableObject_Delete</a>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>service synchronous call shall only be called from the application thread and shall not be called from client callbacks used for asynchronous response, connections event, etc. (<a class="el" href="libs2opc__client__config_8h.html#adf015cd4adff621a0fea9cfa2890c17e" title="Type of callback to provide asynchronous service response.">SOPC_ServiceAsyncResp_Fct</a>, <a class="el" href="libs2opc__client_8h.html#a72edfff76138a1477189ffc3bb118f22" title="Type of callback called on client connection event.">SOPC_ClientConnectionEvent_Fct</a>, etc.). Otherwise this will lead to a deadlock situation. </dd></dl>

</div>
</div>
<a id="a0bd8dde3185082ef18f40eaf9036a812" name="a0bd8dde3185082ef18f40eaf9036a812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bd8dde3185082ef18f40eaf9036a812">&#9670;&#160;</a></span>SOPC_ClientHelper_CreateSubscription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> * SOPC_ClientHelper_CreateSubscription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> *&#160;</td>
          <td class="paramname"><em>secureConnection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sopc__types_8h.html#a545146fc79e1c63c3d149cafb11f5a22">OpcUa_CreateSubscriptionRequest</a> *&#160;</td>
          <td class="paramname"><em>subParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#ada0a39e25997feef2d13599beb0738ca">SOPC_ClientSubscriptionNotification_Fct</a> *&#160;</td>
          <td class="paramname"><em>subNotifCb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>userParam</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a subscription on the server. </p>
<dl class="section warning"><dt>Warning</dt><dd>The current implementation is limited to 1 subscription per connection</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">secureConnection</td><td>The client connection instance to use to execute the service </td></tr>
    <tr><td class="paramname">subParams</td><td>The subscription creation request containing subscription parameters (created using <a class="el" href="libs2opc__request__builder_8h.html#ab753cb7c769afed6e4838e8afd5a9eb0" title="Creates a CreateSubscription request with default parameters values Default parameters are the follow...">SOPC_CreateSubscriptionRequest_CreateDefault</a> or :: SOPC_CreateSubscriptionRequest_Create) Note: it shall be allocated on heap since it will be freed by S2OPC library during treatment.</td></tr>
    <tr><td class="paramname">subNotifCb</td><td>The callback to be called on subscription notification </td></tr>
    <tr><td class="paramname">userParam</td><td>The user parameter associated to the subscription that can be accessed using <a class="el" href="libs2opc__client_8h.html#a40a86e21918b4c2d9b21c3ad39cd874e" title="Returns the user parameter defined in SOPC_ClientHelper_CreateSubscription.">SOPC_ClientHelper_Subscription_GetUserParam</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The subscription instance or NULL in case of error (invalid parameters, subscription already created, etc.)</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The provided <code>subParams</code> memory is managed by the function after this call (even in case of error) and shall not be accessed nor freed after call. </dd></dl>

</div>
</div>
<a id="aaf4b23a70370b4798e5f54e2f0fd2079" name="aaf4b23a70370b4798e5f54e2f0fd2079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4b23a70370b4798e5f54e2f0fd2079">&#9670;&#160;</a></span>SOPC_ClientHelper_DeleteSubscription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_DeleteSubscription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> **&#160;</td>
          <td class="paramname"><em>subscription</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes a subscription on the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subscription</td><td>Pointer to the subscription pointer returned by <a class="el" href="libs2opc__client_8h.html#a0bd8dde3185082ef18f40eaf9036a812" title="Creates a subscription on the server.">SOPC_ClientHelper_CreateSubscription</a> and to be deleted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, SOPC_STATUS_INVALID_STATE if the client or subscription is not running. </dd></dl>

</div>
</div>
<a id="ac4320202f5aae8649a400d185edd54b3" name="ac4320202f5aae8649a400d185edd54b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4320202f5aae8649a400d185edd54b3">&#9670;&#160;</a></span>SOPC_ClientHelper_Subscription_SetAvailableTokens()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_Subscription_SetAvailableTokens </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td>
          <td class="paramname"><em>subscription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>nbPublishTokens</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the number of publish tokens to be used for the subscription. This number shall be greater than 0 and indicates the number of publish request sent to the server that might be used to send back notifications. </p>
<dl class="section note"><dt>Note</dt><dd>By default 3 publish tokens are configured. </dd>
<dd>
A new publish request token is sent back to the server each time a publish response is received (i.e. token consumed)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subscription</td><td>The subscription instance </td></tr>
    <tr><td class="paramname">nbPublishTokens</td><td>The number of publish tokens to be used by the client</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, SOPC_STATUS_INVALID_STATE if the client or subscription is not running. </dd></dl>

</div>
</div>
<a id="abc7a36b80e740ed791a583a3fc09c156" name="abc7a36b80e740ed791a583a3fc09c156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc7a36b80e740ed791a583a3fc09c156">&#9670;&#160;</a></span>SOPC_ClientHelper_Subscription_GetRevisedParameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_Subscription_GetRevisedParameters </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td>
          <td class="paramname"><em>subscription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>revisedPublishingInterval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>revisedLifetimeCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>revisedMaxKeepAliveCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the created subscription parameters values revised by the server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">subscription</td><td>The subscription instance </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">revisedPublishingInterval</td><td>Pointer for the revised publishing interval output value (optional) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">revisedLifetimeCount</td><td>Pointer for the revised lifetime count output value (optional) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">revisedMaxKeepAliveCount</td><td>Pointer for the revised max keep alive count output value (optional)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid subscription pointer, SOPC_STATUS_INVALID_STATE if the client or connection is not running. </dd></dl>

</div>
</div>
<a id="a40a86e21918b4c2d9b21c3ad39cd874e" name="a40a86e21918b4c2d9b21c3ad39cd874e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40a86e21918b4c2d9b21c3ad39cd874e">&#9670;&#160;</a></span>SOPC_ClientHelper_Subscription_GetUserParam()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t SOPC_ClientHelper_Subscription_GetUserParam </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td>
          <td class="paramname"><em>subscription</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the user parameter defined in <a class="el" href="libs2opc__client_8h.html#a0bd8dde3185082ef18f40eaf9036a812" title="Creates a subscription on the server.">SOPC_ClientHelper_CreateSubscription</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subscription</td><td>The subscription instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>User defined parameter provided in <a class="el" href="libs2opc__client_8h.html#a0bd8dde3185082ef18f40eaf9036a812" title="Creates a subscription on the server.">SOPC_ClientHelper_CreateSubscription</a> for creation of <code>subscription</code> </dd></dl>

</div>
</div>
<a id="a236b55d73c7b73af1b875384454b727c" name="a236b55d73c7b73af1b875384454b727c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a236b55d73c7b73af1b875384454b727c">&#9670;&#160;</a></span>SOPC_ClientHelper_GetSecureConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a407eb71da8d574a5e1f3036ebaf8d4cc">SOPC_ClientConnection</a> * SOPC_ClientHelper_GetSecureConnection </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td>
          <td class="paramname"><em>subscription</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the secure connection on which the subscription rely on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subscription</td><td>The subscription instance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The secure connection instance </dd></dl>

</div>
</div>
<a id="a6e806306ae6ab0d43da9602e9bdc5576" name="a6e806306ae6ab0d43da9602e9bdc5576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e806306ae6ab0d43da9602e9bdc5576">&#9670;&#160;</a></span>SOPC_ClientHelper_GetSubscriptionId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_GetSubscriptionId </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td>
          <td class="paramname"><em>subscription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pSubscriptionId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the subscription Id associated to the subscription. It should only be used in the context of server method calls (ConditionRefresh, etc.) and is not referenced by the rest of this client API. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">subscription</td><td>The subscription instance </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pSubscriptionId</td><td>The subscription Id associated to the subscription by server</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid subscription pointer, SOPC_STATUS_INVALID_STATE if the client or connection is not running. </dd></dl>

</div>
</div>
<a id="a164010777656815ba0f77d4c1c6198e0" name="a164010777656815ba0f77d4c1c6198e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a164010777656815ba0f77d4c1c6198e0">&#9670;&#160;</a></span>SOPC_ClientHelper_Subscription_CreateMonitoredItems()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_Subscription_CreateMonitoredItems </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td>
          <td class="paramname"><em>subscription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sopc__types_8h.html#a2f0cca05cc369d2d8a287285d9c0d141">OpcUa_CreateMonitoredItemsRequest</a> *&#160;</td>
          <td class="paramname"><em>monitoredItemsReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uintptr_t *&#160;</td>
          <td class="paramname"><em>monitoredItemCtxArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sopc__types_8h.html#a5ac9ad70e862d38addfb259e139182dc">OpcUa_CreateMonitoredItemsResponse</a> *&#160;</td>
          <td class="paramname"><em>monitoredItemsResp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates new monitored items on the given subscription. A context array might be provided and context will be provided on notification for corresponding monitored item in notification callback. A pointer to empty message response might be provided to retrieve the creation result and monitored item id affected by the server (needed to modify or delete monitored items prior to subscription deletion) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">subscription</td><td>The subscription instance on which monitored items shall be created </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">monitoredItemsReq</td><td>The create monitored items requests to use for creation parameters. SubscriptionId and ClientHandle parameters are ignored and set automatically. Simplified way to create it is to use <a class="el" href="libs2opc__request__builder_8h.html#aa285c6efd3e054fcd4baf493a9535ded" title="Creates a CreateMonitoredItems request for the given node ids with default parameters values:">SOPC_CreateMonitoredItemsRequest_CreateDefault</a> or <a class="el" href="libs2opc__request__builder_8h.html#ae65ac9d4156df03fdcab10ef4cce7a6f" title="Creates a CreateMonitoredItems request for the given node ids C strings with default parameters value...">SOPC_CreateMonitoredItemsRequest_CreateDefaultFromStrings</a>. Note: it shall be allocated on heap since it will be freed by S2OPC library during treatment.</td></tr>
    <tr><td class="paramdir"></td><td class="paramname">monitoredItemCtxArray</td><td>(optional) The array of context for monitored items to be created (might be freed by caller after call only content is recorded in subscription) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">monitoredItemsResp</td><td>(optional) Pointer to the empty response that will be filled with the response received from the server and containing the status result and server monitored items ids.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, SOPC_STATUS_INVALID_STATE if the client is not running. And dedicated status if creation failed.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The provided <code>monitoredItemsReq</code> memory is managed by the function after this call (even in case of error) and shall not be accessed nor freed after call. </dd></dl>

</div>
</div>
<a id="a09ac99bba2baf503ab01532569ab313f" name="a09ac99bba2baf503ab01532569ab313f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09ac99bba2baf503ab01532569ab313f">&#9670;&#160;</a></span>SOPC_ClientHelper_Subscription_DeleteMonitoredItems()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_Subscription_DeleteMonitoredItems </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td>
          <td class="paramname"><em>subscription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sopc__types_8h.html#af897cf6dd169242c3aaaf283236ecade">OpcUa_DeleteMonitoredItemsRequest</a> *&#160;</td>
          <td class="paramname"><em>delMonitoredItemsReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sopc__types_8h.html#aee230b76ef751bfbba7af78e13af4d31">OpcUa_DeleteMonitoredItemsResponse</a> *&#160;</td>
          <td class="paramname"><em>delMonitoredItemsResp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes monitored items on the given subscription using the server monitored item ids. A pointer to empty message response might be provided to retrieve the deletion result. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">subscription</td><td>The subscription instance on which monitored items shall be created </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">delMonitoredItemsReq</td><td>The delete monitored items requests to use for creation parameters. SubscriptionId parameter is ignored and set automatically. Note: it shall be allocated on heap since it will be freed by S2OPC library during treatment. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">delMonitoredItemsResp</td><td>(optional) Pointer to the empty response that will be filled with the response received from the server and containing the status result.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, SOPC_STATUS_INVALID_STATE if the client is not running. And dedicated status if deletion failed.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The provided <code>delMonitoredItemsReq</code> memory is managed by the function after this call (even in case of error) and shall not be accessed nor freed after call. </dd></dl>

</div>
</div>
<a id="a2ecc89a2c5a6fca287ab2211cebc3573" name="a2ecc89a2c5a6fca287ab2211cebc3573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ecc89a2c5a6fca287ab2211cebc3573">&#9670;&#160;</a></span>SOPC_ClientHelper_Subscription_SyncService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_Subscription_SyncService </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td>
          <td class="paramname"><em>subscription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>subOrMIrequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>subOrMIresponse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes an OPC UA service on server related to the given subscription synchronously. </p>
<dl class="section note"><dt>Note</dt><dd>The subscription identifier part in the request provided is automatically set by this function. </dd>
<dd>
The requests to create / delete subscription or monitored items are not supported since dedicated API function shall be used. </dd>
<dd>
The transfer subscription service is not supported by client.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">subscription</td><td>The subscription instance for which the service shall be executed </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">subOrMIrequest</td><td>An instance of one of the following OPC UA request:<ul>
<li><a class="el" href="sopc__types_8h.html#a447214e94b63938ce4fd29abfdb7b137">OpcUa_ModifySubscriptionRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a3211f49e493faf28aff3f84b365ec35d">OpcUa_SetPublishingModeRequest</a> (expecting 1 subscription id to fill in allocated array)</li>
<li><a class="el" href="sopc__types_8h.html#a7124e218f311285ab7af66039cff85a0">OpcUa_ModifyMonitoredItemsRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#abef1082d7c51c9fafc1e6485ac6e95cf">OpcUa_SetMonitoringModeRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a6dbd3b5e34699513933e5b70b9b935a6">OpcUa_SetTriggeringRequest</a> Note: it shall be allocated on heap since it will be freed by S2OPC library during treatment.</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">subOrMIresponse</td><td>Pointer into which instance of response complying with the OPC UA request is provided: <ul>
<li><a class="el" href="sopc__types_8h.html#a6417eeb7005be8f15115d0cb7505eae2">OpcUa_ModifySubscriptionResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#ad10f745fe9f31bd7a8668ca21fdc6a59">OpcUa_SetPublishingModeResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#a5e4aecc19a552b5476758cd8e634381d">OpcUa_ModifyMonitoredItemsResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#a2b37dc5f49f8d3c911e87126c70a15cd">OpcUa_SetMonitoringModeResponse</a> </li>
<li><a class="el" href="sopc__types_8h.html#a53dc267c1f4b465cca5c32e196d60791">OpcUa_SetTriggeringResponse</a></li>
</ul>
In case of service failure the response type is always <a class="el" href="sopc__types_8h.html#a813d4f1fb96d8007c4e54b2fe279517d">OpcUa_ServiceFault</a>, in this case the <code>response.encodeableType</code> points to <a class="el" href="sopc__types_8h.html#ae2431428f899faa8da7efe65fe9ee196">OpcUa_ServiceFault_EncodeableType</a> and <a class="el" href="sopc__builtintypes_8h.html#ad4bbc020bdcf592ee8c9ddd2cbc46e20" title="Evaluates if the provided status is Good.">SOPC_IsGoodStatus</a>(<code>response.ResponseHeader.ServiceResult</code>) is <code>false</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, SOPC_STATUS_INVALID_STATE if the client is not running. And dedicated status if request sending failed.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The provided <code>subOrMIrequest</code> memory is managed by the function after this call (even in case of error) and shall not be accessed nor freed after call. </dd>
<dd>
caller is responsible of output response memory after successful call. E.g. use <a class="el" href="sopc__encodeabletype_8h.html#ab79c8952d7c0d7cdc6c726f2b0984ea2" title="Clear and deallocate an encodeable object of the given encodeable type.">SOPC_EncodeableObject_Delete</a>.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>service synchronous call shall only be called from the application thread and shall not be called from client callbacks used for asynchronous response, connections event, etc. (<a class="el" href="libs2opc__client__config_8h.html#adf015cd4adff621a0fea9cfa2890c17e" title="Type of callback to provide asynchronous service response.">SOPC_ServiceAsyncResp_Fct</a>, <a class="el" href="libs2opc__client_8h.html#a72edfff76138a1477189ffc3bb118f22" title="Type of callback called on client connection event.">SOPC_ClientConnectionEvent_Fct</a>, etc.). Otherwise this will lead to a deadlock situation. </dd></dl>

</div>
</div>
<a id="a75e5273140169662e196b8704230e127" name="a75e5273140169662e196b8704230e127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75e5273140169662e196b8704230e127">&#9670;&#160;</a></span>SOPC_ClientHelper_Subscription_AsyncService()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_ClientHelper_Subscription_AsyncService </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="libs2opc__client_8h.html#abad83b454d2fc38e96b0f8808d69058d">SOPC_ClientHelper_Subscription</a> *&#160;</td>
          <td class="paramname"><em>subscription</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>subOrMIrequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>userContext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes an OPC UA service on server related to the given subscription asynchronously. Service response callback configured through <a class="el" href="libs2opc__client__config_8h.html#a5b4feaad80d85385b22dc09c098e65db" title="Defines the service response callback to be used.">SOPC_ClientConfigHelper_SetServiceAsyncResponse</a> will be called on service response or in case of service request sending failure. </p>
<dl class="section note"><dt>Note</dt><dd>The subscription identifier part in the request provided is automatically set by this function. </dd>
<dd>
The requests to create / delete subscription or monitored items are not supported since dedicated API function shall be used. </dd>
<dd>
The transfer subscription service is not supported by client.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subscription</td><td>The subscription instance for which the service shall be executed </td></tr>
    <tr><td class="paramname">subOrMIrequest</td><td>An instance of one of the following OPC UA request:<ul>
<li><a class="el" href="sopc__types_8h.html#a447214e94b63938ce4fd29abfdb7b137">OpcUa_ModifySubscriptionRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a3211f49e493faf28aff3f84b365ec35d">OpcUa_SetPublishingModeRequest</a> (expecting 1 subscription id to fill in allocated array)</li>
<li><a class="el" href="sopc__types_8h.html#a7124e218f311285ab7af66039cff85a0">OpcUa_ModifyMonitoredItemsRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#abef1082d7c51c9fafc1e6485ac6e95cf">OpcUa_SetMonitoringModeRequest</a></li>
<li><a class="el" href="sopc__types_8h.html#a6dbd3b5e34699513933e5b70b9b935a6">OpcUa_SetTriggeringRequest</a> Note: it shall be allocated on heap since it will be freed by S2OPC library during treatment.</li>
</ul>
</td></tr>
    <tr><td class="paramname">userContext</td><td>User defined context that will be provided with the corresponding response in <a class="el" href="libs2opc__server__config_8h.html#ab044fa72d01b0a3cf2340a4265cb2ba6" title="Type of callback to provide to receive asynchronous local service response.">SOPC_LocalServiceAsyncResp_Fct</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS in case of invalid parameters, otherwise SOPC_STATUS_INVALID_STATE if the client is not running.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The provided <code>subOrMIrequest</code> memory is managed by the function after this call (even in case of error) and shall not be accessed nor freed after call.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Caller of this API should wait at least <a class="el" href="sopc__toolkit__config__constants_8h.html#aca19bff159e78da6fd6a8c8c58453581" title="Maximum time before a response shall be received after sending a request (0 means no limit)....">SOPC_REQUEST_TIMEOUT_MS</a> milliseconds after calling this function and prior to call <a class="el" href="libs2opc__client__config_8h.html#ae28b964a0689f83201644982017e24e9" title="Clears the S2OPC client frontend configuration It shall be done before a call to SOPC_CommonHelper_Cl...">SOPC_ClientConfigHelper_Clear</a>. It is necessary to ensure asynchronous context is freed and no memory leak occurs. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 12 2024 18:14:02 for S2OPC OPCUA Toolkit by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
