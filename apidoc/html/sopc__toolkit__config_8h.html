<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>S2OPC OPCUA Toolkit: src/ClientServer/configuration/sopc_toolkit_config.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">S2OPC OPCUA Toolkit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c3d037eb94fa1aa7134660c2803d99ab.html">ClientServer</a></li><li class="navelem"><a class="el" href="dir_b19da9e2cbc27adb93ed25885c0ef6ff.html">configuration</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sopc_toolkit_config.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module shall be used to initialize, configure and clear/terminate the toolkit execution.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="sopc__address__space_8h_source.html">sopc_address_space.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sopc__user__app__itf_8h_source.html">sopc_user_app_itf.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sopc__builtintypes_8h_source.html">sopc_builtintypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sopc__common__build__info_8h_source.html">sopc_common_build_info.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sopc__types_8h_source.html">sopc_types.h</a>&quot;</code><br />
</div>
<p><a href="sopc__toolkit__config_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1082879b9ca7992065d7a03b16e60be9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__toolkit__config_8h.html#a1082879b9ca7992065d7a03b16e60be9">SOPC_Toolkit_Initialize</a> (<a class="el" href="sopc__user__app__itf_8h.html#a20861cf43223f7b171bc951e9c751143">SOPC_ComEvent_Fct</a> *pAppFct)</td></tr>
<tr class="memdesc:a1082879b9ca7992065d7a03b16e60be9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the toolkit configuration, libraries and threads.  <a href="sopc__toolkit__config_8h.html#a1082879b9ca7992065d7a03b16e60be9">More...</a><br /></td></tr>
<tr class="separator:a1082879b9ca7992065d7a03b16e60be9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1395fd4a9fe88c67c717f332e54f9ec0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__toolkit__config_8h.html#a1395fd4a9fe88c67c717f332e54f9ec0">SOPC_Toolkit_Configured</a> (void)</td></tr>
<tr class="memdesc:a1395fd4a9fe88c67c717f332e54f9ec0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define toolkit configuration as configured and lock its state until toolkit clear operation.  <a href="sopc__toolkit__config_8h.html#a1395fd4a9fe88c67c717f332e54f9ec0">More...</a><br /></td></tr>
<tr class="separator:a1395fd4a9fe88c67c717f332e54f9ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f8d525103f8edaa073a8b6edde0ad7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__toolkit__config_8h.html#a7f8d525103f8edaa073a8b6edde0ad7e">SOPC_Toolkit_Clear</a> (void)</td></tr>
<tr class="memdesc:a7f8d525103f8edaa073a8b6edde0ad7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the stack configuration.  <a href="sopc__toolkit__config_8h.html#a7f8d525103f8edaa073a8b6edde0ad7e">More...</a><br /></td></tr>
<tr class="separator:a7f8d525103f8edaa073a8b6edde0ad7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32f517bb42d598b4d233a0c9bb3a4019"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__toolkit__config_8h.html#a32f517bb42d598b4d233a0c9bb3a4019">SOPC_ToolkitServer_SetAddressSpaceConfig</a> (<a class="el" href="sopc__address__space_8h.html#a9eb9ba551196384d183a5fc7005db24f">SOPC_AddressSpace</a> *addressSpace)</td></tr>
<tr class="memdesc:a32f517bb42d598b4d233a0c9bb3a4019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the given Address Space for the current toolkit server (SOPC_ToolkitServer_Initialize required, !SOPC_Toolkit_Configured required). Note: only one address space can be set, further call will be refused.  <a href="sopc__toolkit__config_8h.html#a32f517bb42d598b4d233a0c9bb3a4019">More...</a><br /></td></tr>
<tr class="separator:a32f517bb42d598b4d233a0c9bb3a4019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a424f17d1ba334f8cfe561e2c70a5fc78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__toolkit__config_8h.html#a424f17d1ba334f8cfe561e2c70a5fc78">SOPC_ToolkitServer_SetAddressSpaceNotifCb</a> (<a class="el" href="sopc__user__app__itf_8h.html#afd76cc37e6128a310449cd1043262f4f">SOPC_AddressSpaceNotif_Fct</a> *pAddSpaceNotifFct)</td></tr>
<tr class="memdesc:a424f17d1ba334f8cfe561e2c70a5fc78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the given Address Space modification notification callback for the current toolkit server (SOPC_ToolkitServer_Initialize required, !SOPC_Toolkit_Configured required). Note: only one callback can be set, further call will be refused.  <a href="sopc__toolkit__config_8h.html#a424f17d1ba334f8cfe561e2c70a5fc78">More...</a><br /></td></tr>
<tr class="separator:a424f17d1ba334f8cfe561e2c70a5fc78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acedfad76b70e0caeb60ef74c6a21171c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__toolkit__config_8h.html#acedfad76b70e0caeb60ef74c6a21171c">SOPC_ToolkitClient_AddSecureChannelConfig</a> (<a class="el" href="structSOPC__SecureChannel__Config.html">SOPC_SecureChannel_Config</a> *scConfig)</td></tr>
<tr class="memdesc:acedfad76b70e0caeb60ef74c6a21171c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record the given secure channel configuration in returned index (SOPC_ToolkitClient_Initialize required, !SOPC_Toolkit_Configured required)  <a href="sopc__toolkit__config_8h.html#acedfad76b70e0caeb60ef74c6a21171c">More...</a><br /></td></tr>
<tr class="separator:acedfad76b70e0caeb60ef74c6a21171c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a79728495eef7a3496f61a82425b55f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__toolkit__config_8h.html#a8a79728495eef7a3496f61a82425b55f">SOPC_ToolkitServer_AddEndpointConfig</a> (<a class="el" href="structSOPC__Endpoint__Config.html">SOPC_Endpoint_Config</a> *config)</td></tr>
<tr class="memdesc:a8a79728495eef7a3496f61a82425b55f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Record the given endpoint configuration in given index (SOPC_Toolkit_Initialize required, !SOPC_Toolkit_Configured required)  <a href="sopc__toolkit__config_8h.html#a8a79728495eef7a3496f61a82425b55f">More...</a><br /></td></tr>
<tr class="separator:a8a79728495eef7a3496f61a82425b55f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d2da1a270dcd1b83e9bc385d26ac58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSOPC__Toolkit__Build__Info.html">SOPC_Toolkit_Build_Info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__toolkit__config_8h.html#a94d2da1a270dcd1b83e9bc385d26ac58">SOPC_ToolkitConfig_GetBuildInfo</a> (void)</td></tr>
<tr class="memdesc:a94d2da1a270dcd1b83e9bc385d26ac58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get Toolkit build information.  <a href="sopc__toolkit__config_8h.html#a94d2da1a270dcd1b83e9bc385d26ac58">More...</a><br /></td></tr>
<tr class="separator:a94d2da1a270dcd1b83e9bc385d26ac58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module shall be used to initialize, configure and clear/terminate the toolkit execution. </p>
<p>It is in charge to initialize each event based layer (sockets, secure channels, services) which will start the associated threads. It is also necessary to configure the endpoint description configuration and address space of a toolkit server instance, or the endpoint connection configuration of a toolkit client instance. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1082879b9ca7992065d7a03b16e60be9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1082879b9ca7992065d7a03b16e60be9">&#9670;&nbsp;</a></span>SOPC_Toolkit_Initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_Toolkit_Initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__user__app__itf_8h.html#a20861cf43223f7b171bc951e9c751143">SOPC_ComEvent_Fct</a> *&#160;</td>
          <td class="paramname"><em>pAppFct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the toolkit configuration, libraries and threads. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pAppFct</td><td>Pointer to applicative code function in charge of toolkit communication events</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK if initialization succeeded, SOPC_STATUS_INVALID_PARAMETERS if <code>pAppFct</code> == NULL or SOPC_STATUS_INVALID_STATE if toolkit already initialized and SOPC_STATUS_NOK otherwise </dd></dl>

</div>
</div>
<a id="a1395fd4a9fe88c67c717f332e54f9ec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1395fd4a9fe88c67c717f332e54f9ec0">&#9670;&nbsp;</a></span>SOPC_Toolkit_Configured()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_Toolkit_Configured </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define toolkit configuration as configured and lock its state until toolkit clear operation. </p>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK if initialization succeeded, SOPC_STATUS_INVALID_STATE if toolkit is not initialized or already configured, SOPC_STATUS_INVALID_PARAMETERS if server configuration is defined but no address space is set </dd></dl>

</div>
</div>
<a id="a7f8d525103f8edaa073a8b6edde0ad7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f8d525103f8edaa073a8b6edde0ad7e">&#9670;&nbsp;</a></span>SOPC_Toolkit_Clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SOPC_Toolkit_Clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the stack configuration. </p>

</div>
</div>
<a id="a32f517bb42d598b4d233a0c9bb3a4019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32f517bb42d598b4d233a0c9bb3a4019">&#9670;&nbsp;</a></span>SOPC_ToolkitServer_SetAddressSpaceConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_ToolkitServer_SetAddressSpaceConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__address__space_8h.html#a9eb9ba551196384d183a5fc7005db24f">SOPC_AddressSpace</a> *&#160;</td>
          <td class="paramname"><em>addressSpace</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the given Address Space for the current toolkit server (SOPC_ToolkitServer_Initialize required, !SOPC_Toolkit_Configured required). Note: only one address space can be set, further call will be refused. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addressSpace</td><td>The address space definition</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK if configuration succeeded, SOPC_STATUS_INVALID_STATE if toolkit is not initialized, already configured or address space is already set, SOPC_STATUS_NOK otherwise </dd></dl>

</div>
</div>
<a id="a424f17d1ba334f8cfe561e2c70a5fc78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a424f17d1ba334f8cfe561e2c70a5fc78">&#9670;&nbsp;</a></span>SOPC_ToolkitServer_SetAddressSpaceNotifCb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_ToolkitServer_SetAddressSpaceNotifCb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__user__app__itf_8h.html#afd76cc37e6128a310449cd1043262f4f">SOPC_AddressSpaceNotif_Fct</a> *&#160;</td>
          <td class="paramname"><em>pAddSpaceNotifFct</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the given Address Space modification notification callback for the current toolkit server (SOPC_ToolkitServer_Initialize required, !SOPC_Toolkit_Configured required). Note: only one callback can be set, further call will be refused. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pAddSpaceNotifFct</td><td>The address space notification event callback definition</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK if configuration succeeded, SOPC_STATUS_INVALID_STATE if toolkit is not initialized, already configured or address space is already set, SOPC_STATUS_NOK otherwise </dd></dl>

</div>
</div>
<a id="acedfad76b70e0caeb60ef74c6a21171c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acedfad76b70e0caeb60ef74c6a21171c">&#9670;&nbsp;</a></span>SOPC_ToolkitClient_AddSecureChannelConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SOPC_ToolkitClient_AddSecureChannelConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOPC__SecureChannel__Config.html">SOPC_SecureChannel_Config</a> *&#160;</td>
          <td class="paramname"><em>scConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record the given secure channel configuration in returned index (SOPC_ToolkitClient_Initialize required, !SOPC_Toolkit_Configured required) </p>
<dl class="section return"><dt>Returns</dt><dd>secure channel configuration index if configuration succeeded, 0 if toolkit is not initialized, already configured or otherwise </dd></dl>

</div>
</div>
<a id="a8a79728495eef7a3496f61a82425b55f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a79728495eef7a3496f61a82425b55f">&#9670;&nbsp;</a></span>SOPC_ToolkitServer_AddEndpointConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SOPC_ToolkitServer_AddEndpointConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSOPC__Endpoint__Config.html">SOPC_Endpoint_Config</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Record the given endpoint configuration in given index (SOPC_Toolkit_Initialize required, !SOPC_Toolkit_Configured required) </p>
<p>Note1: it is forbidden to have 2 configurations with same endpointURL Note2: if security policy None is not activated, less than SOPC_MAX_SECU_POLICIES_CFG shall be defined to allow discovery services access to be added.</p>
<dl class="section return"><dt>Returns</dt><dd>endpoint configuration index configuration succeeded, 0 if toolkit is not initialized, already configured or parameters provided are incorrect </dd></dl>

</div>
</div>
<a id="a94d2da1a270dcd1b83e9bc385d26ac58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d2da1a270dcd1b83e9bc385d26ac58">&#9670;&nbsp;</a></span>SOPC_ToolkitConfig_GetBuildInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSOPC__Toolkit__Build__Info.html">SOPC_Toolkit_Build_Info</a> SOPC_ToolkitConfig_GetBuildInfo </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get Toolkit build information. </p>
<dl class="section return"><dt>Returns</dt><dd>Toolkit build information </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 7 2021 09:35:45 for S2OPC OPCUA Toolkit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
