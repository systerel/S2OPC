<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>S2OPC OPCUA Toolkit: src/Common/helpers/sopc_date_time.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">S2OPC OPCUA Toolkit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ba210d1fa67db7bee1bb22e0a3c11d9f.html">Common</a></li><li class="navelem"><a class="el" href="dir_4c1a1e4ba300949b33e30739e8e49101.html">helpers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sopc_date_time.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sopc__builtintypes_8h_source.html">sopc_builtintypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sopc__enums_8h_source.html">sopc_enums.h</a>&quot;</code><br />
</div>
<p><a href="sopc__date__time_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSOPC__tm.html">SOPC_tm</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">S2OPC equivalent of standard struct tm. Fields use fix-length numerical values.  <a href="structSOPC__tm.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6bf3c7b6fdd99fd81a087e62e400fd3f" id="r_a6bf3c7b6fdd99fd81a087e62e400fd3f"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="p__time__c99_8h.html#a7f5991675a84025dc7c24754a9b257c0">time_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a></td></tr>
<tr class="separator:a6bf3c7b6fdd99fd81a087e62e400fd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a908d10c9df05e6007f952d798845d96f" id="r_a908d10c9df05e6007f952d798845d96f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structSOPC__tm.html">SOPC_tm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#a908d10c9df05e6007f952d798845d96f">SOPC_tm</a></td></tr>
<tr class="memdesc:a908d10c9df05e6007f952d798845d96f"><td class="mdescLeft">&#160;</td><td class="mdescRight">S2OPC equivalent of standard struct tm. Fields use fix-length numerical values.  <br /></td></tr>
<tr class="separator:a908d10c9df05e6007f952d798845d96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0eeda1b41a20d47efb48808fe83fd2ba" id="r_a0eeda1b41a20d47efb48808fe83fd2ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#a0eeda1b41a20d47efb48808fe83fd2ba">SOPC_Time_GetCurrentTimeUTC</a> (void)</td></tr>
<tr class="memdesc:a0eeda1b41a20d47efb48808fe83fd2ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the current time in DateTime format which is 100 nanoseconds from 1601/01/01 00:00:00 UTC  <br /></td></tr>
<tr class="separator:a0eeda1b41a20d47efb48808fe83fd2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4a86f9838419fd70d8f75c95e75f81c" id="r_ad4a86f9838419fd70d8f75c95e75f81c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#ad4a86f9838419fd70d8f75c95e75f81c">SOPC_Time_GetString</a> (<a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a> time, bool local, bool compact)</td></tr>
<tr class="memdesc:ad4a86f9838419fd70d8f75c95e75f81c"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a C string representation of the given time in DateTime format E.g.:  <br /></td></tr>
<tr class="separator:ad4a86f9838419fd70d8f75c95e75f81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184c82a651b7258e55ee619efc2b5552" id="r_a184c82a651b7258e55ee619efc2b5552"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#a184c82a651b7258e55ee619efc2b5552">SOPC_Time_GetStringOfCurrentLocalTime</a> (bool compact)</td></tr>
<tr class="memdesc:a184c82a651b7258e55ee619efc2b5552"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the current local time as a C String, e.g.:  <br /></td></tr>
<tr class="separator:a184c82a651b7258e55ee619efc2b5552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a380e64af9e1a57ed5a12f2acfa89d02b" id="r_a380e64af9e1a57ed5a12f2acfa89d02b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#a380e64af9e1a57ed5a12f2acfa89d02b">SOPC_Time_GetStringOfCurrentTimeUTC</a> (bool compact)</td></tr>
<tr class="memdesc:a380e64af9e1a57ed5a12f2acfa89d02b"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the current UTC time as a C String, e.g.:  <br /></td></tr>
<tr class="separator:a380e64af9e1a57ed5a12f2acfa89d02b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9826e3ed326b10cec88b4b4be59fe516" id="r_a9826e3ed326b10cec88b4b4be59fe516"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#a9826e3ed326b10cec88b4b4be59fe516">SOPC_Time_Breakdown_Local</a> (<a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a> t, struct <a class="el" href="structtm.html">tm</a> *<a class="el" href="structtm.html">tm</a>)</td></tr>
<tr class="memdesc:a9826e3ed326b10cec88b4b4be59fe516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Breaks down a timestamp to its structured representation in local time.  <br /></td></tr>
<tr class="separator:a9826e3ed326b10cec88b4b4be59fe516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9fe8f60e873d7d22db843d8e77ae4f" id="r_acd9fe8f60e873d7d22db843d8e77ae4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#acd9fe8f60e873d7d22db843d8e77ae4f">SOPC_Time_Breakdown_UTC</a> (<a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a> t, struct <a class="el" href="structtm.html">tm</a> *<a class="el" href="structtm.html">tm</a>)</td></tr>
<tr class="memdesc:acd9fe8f60e873d7d22db843d8e77ae4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Breaks down a timestamp to its structured representation in UTC time.  <br /></td></tr>
<tr class="separator:acd9fe8f60e873d7d22db843d8e77ae4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7fdc62f9f27afcae02b48882f88787" id="r_a1a7fdc62f9f27afcae02b48882f88787"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#a1a7fdc62f9f27afcae02b48882f88787">SOPC_Time_FromUnixTime</a> (<a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a> time, <a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a> *res)</td></tr>
<tr class="memdesc:a1a7fdc62f9f27afcae02b48882f88787"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a UNIX timestamp to a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC.  <br /></td></tr>
<tr class="separator:a1a7fdc62f9f27afcae02b48882f88787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf150942eba8d5ec62e0c41b7e77a07" id="r_a0cf150942eba8d5ec62e0c41b7e77a07"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#a0cf150942eba8d5ec62e0c41b7e77a07">SOPC_Time_ToUnixTime</a> (<a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a> dt, <a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a> *res)</td></tr>
<tr class="memdesc:a0cf150942eba8d5ec62e0c41b7e77a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC to a UNIX timestamp.  <br /></td></tr>
<tr class="separator:a0cf150942eba8d5ec62e0c41b7e77a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae671b688d4e472e1c5fea89208e5ec9f" id="r_ae671b688d4e472e1c5fea89208e5ec9f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#ae671b688d4e472e1c5fea89208e5ec9f">SOPC_tm_FromXsdDateTime</a> (const char *datetime, size_t len, <a class="el" href="structSOPC__tm.html">SOPC_tm</a> *<a class="el" href="structtm.html">tm</a>)</td></tr>
<tr class="memdesc:ae671b688d4e472e1c5fea89208e5ec9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a string containing an XSD format datetime '[YYYY]-[MM]-[DD]T[hh]:[mm]:[ss]', it might be followed by 'Z' to indicate UTC timezone or '+/-[hh]:[mm]' for an offset of UTC. See <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/datatypes.html#dateTime">https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/datatypes.html#dateTime</a>, the equivalent regular expression is: -?([1-9][0-9]{3,}|0[0-9]{3}) -(0[1-9]|1[0-2]) -(0[1-9]|[12][0-9]|3[01]) T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5]<a href="\.[0-9]+">0-9</a>?|(24:00:00(.0+)?)) (Z|(+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?  <br /></td></tr>
<tr class="separator:ae671b688d4e472e1c5fea89208e5ec9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ae29e7524d605cb16754ef13edb2e1" id="r_a33ae29e7524d605cb16754ef13edb2e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__date__time_8h.html#a33ae29e7524d605cb16754ef13edb2e1">SOPC_Time_FromXsdDateTime</a> (const char *dateTime, size_t len, int64_t *res)</td></tr>
<tr class="memdesc:a33ae29e7524d605cb16754ef13edb2e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a string using XSD DateTime format (see <a class="el" href="sopc__date__time_8h.html#ae671b688d4e472e1c5fea89208e5ec9f" title="Parse a string containing an XSD format datetime &#39;[YYYY]-[MM]-[DD]T[hh]:[mm]:[ss]&#39;,...">SOPC_tm_FromXsdDateTime</a>) to a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC.  <br /></td></tr>
<tr class="separator:a33ae29e7524d605cb16754ef13edb2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a6bf3c7b6fdd99fd81a087e62e400fd3f" name="a6bf3c7b6fdd99fd81a087e62e400fd3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bf3c7b6fdd99fd81a087e62e400fd3f">&#9670;&#160;</a></span>SOPC_Unix_Time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="p__time__c99_8h.html#a7f5991675a84025dc7c24754a9b257c0">time_t</a> <a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A time reference in UNIX standard representation (number of seconds since Jan 1st, 1970) </p>

</div>
</div>
<a id="a908d10c9df05e6007f952d798845d96f" name="a908d10c9df05e6007f952d798845d96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a908d10c9df05e6007f952d798845d96f">&#9670;&#160;</a></span>SOPC_tm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structSOPC__tm.html">SOPC_tm</a> <a class="el" href="structSOPC__tm.html">SOPC_tm</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>S2OPC equivalent of standard struct tm. Fields use fix-length numerical values. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0eeda1b41a20d47efb48808fe83fd2ba" name="a0eeda1b41a20d47efb48808fe83fd2ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eeda1b41a20d47efb48808fe83fd2ba">&#9670;&#160;</a></span>SOPC_Time_GetCurrentTimeUTC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a> SOPC_Time_GetCurrentTimeUTC </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the current time in DateTime format which is 100 nanoseconds from 1601/01/01 00:00:00 UTC </p>
<p>Note: since the clock is not monotonic, it should not be used to measure elapsed time</p>
<dl class="section return"><dt>Returns</dt><dd>the current time in DateTime format </dd></dl>

</div>
</div>
<a id="ad4a86f9838419fd70d8f75c95e75f81c" name="ad4a86f9838419fd70d8f75c95e75f81c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4a86f9838419fd70d8f75c95e75f81c">&#9670;&#160;</a></span>SOPC_Time_GetString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * SOPC_Time_GetString </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a>&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns a C string representation of the given time in DateTime format E.g.: </p>
<ul>
<li>compact == false: "2018/01/30 13:15:52.694\0"</li>
<li>compact == true: "20180130_131552_694\0"</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>time value in DataTime format, which is 100 nanoseconds from 1601/01/01 00:00:00 UTC </td></tr>
    <tr><td class="paramname">local</td><td>provides local time if set, UTC time otherwise </td></tr>
    <tr><td class="paramname">compact</td><td>provides compact version when flag is set </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new allocated representation of time, or NULL in case of allocation failure or bad input parameters <code>time</code> value like 0 or out of bounds. Must be freed by caller with <code>SOPC_Free</code> </dd></dl>

</div>
</div>
<a id="a184c82a651b7258e55ee619efc2b5552" name="a184c82a651b7258e55ee619efc2b5552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184c82a651b7258e55ee619efc2b5552">&#9670;&#160;</a></span>SOPC_Time_GetStringOfCurrentLocalTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * SOPC_Time_GetStringOfCurrentLocalTime </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compact</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the current local time as a C String, e.g.: </p>
<ul>
<li>compact == false: "2018/01/30 13:15:52.694\0"</li>
<li>compact == true: "20180130_131552_694\0"</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compact</td><td>provides compact version when flag is set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the current local time as C string (to be deallocated after use) </dd></dl>

</div>
</div>
<a id="a380e64af9e1a57ed5a12f2acfa89d02b" name="a380e64af9e1a57ed5a12f2acfa89d02b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a380e64af9e1a57ed5a12f2acfa89d02b">&#9670;&#160;</a></span>SOPC_Time_GetStringOfCurrentTimeUTC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * SOPC_Time_GetStringOfCurrentTimeUTC </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compact</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the current UTC time as a C String, e.g.: </p>
<ul>
<li>compact == false: "2018/01/30 13:15:52.694\0"</li>
<li>compact == true: "20180130_131552_694\0"</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compact</td><td>provides compact version when flag is set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the current UTC time as C string (to be deallocated after use) </dd></dl>

</div>
</div>
<a id="a9826e3ed326b10cec88b4b4be59fe516" name="a9826e3ed326b10cec88b4b4be59fe516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9826e3ed326b10cec88b4b4be59fe516">&#9670;&#160;</a></span>SOPC_Time_Breakdown_Local()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_Time_Breakdown_Local </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtm.html">tm</a> *&#160;</td>
          <td class="paramname"><em>tm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Breaks down a timestamp to its structured representation in local time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>the timestamp. </td></tr>
    <tr><td class="paramname">tm</td><td>the structured representation of the timestamp in local time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="sopc__enums_8h.html#a6a9076ed124a76682184a349af106ae1a233eaa99afb8ebf03a2c5b7ed968522d">SOPC_STATUS_OK</a> in case of success, <a class="el" href="sopc__enums_8h.html#a6a9076ed124a76682184a349af106ae1afb5481c58ded92ee6c86a13092d57f54">SOPC_STATUS_NOK</a> in case of error. </dd></dl>

</div>
</div>
<a id="acd9fe8f60e873d7d22db843d8e77ae4f" name="acd9fe8f60e873d7d22db843d8e77ae4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd9fe8f60e873d7d22db843d8e77ae4f">&#9670;&#160;</a></span>SOPC_Time_Breakdown_UTC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_Time_Breakdown_UTC </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a>&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structtm.html">tm</a> *&#160;</td>
          <td class="paramname"><em>tm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Breaks down a timestamp to its structured representation in UTC time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>the timestamp. </td></tr>
    <tr><td class="paramname">tm</td><td>the structured representation of the timestamp in UTC time.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="sopc__enums_8h.html#a6a9076ed124a76682184a349af106ae1a233eaa99afb8ebf03a2c5b7ed968522d">SOPC_STATUS_OK</a> in case of success, <a class="el" href="sopc__enums_8h.html#a6a9076ed124a76682184a349af106ae1afb5481c58ded92ee6c86a13092d57f54">SOPC_STATUS_NOK</a> in case of error. </dd></dl>

</div>
</div>
<a id="a1a7fdc62f9f27afcae02b48882f88787" name="a1a7fdc62f9f27afcae02b48882f88787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a7fdc62f9f27afcae02b48882f88787">&#9670;&#160;</a></span>SOPC_Time_FromUnixTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_Time_FromUnixTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a>&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a> *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a UNIX timestamp to a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>the UNIX timestamp </td></tr>
    <tr><td class="paramname">res</td><td>the resulting time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="sopc__enums_8h.html#a6a9076ed124a76682184a349af106ae1a233eaa99afb8ebf03a2c5b7ed968522d">SOPC_STATUS_OK</a> on success, an error code on failure </dd></dl>

</div>
</div>
<a id="a0cf150942eba8d5ec62e0c41b7e77a07" name="a0cf150942eba8d5ec62e0c41b7e77a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cf150942eba8d5ec62e0c41b7e77a07">&#9670;&#160;</a></span>SOPC_Time_ToUnixTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_Time_ToUnixTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a>&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sopc__date__time_8h.html#a6bf3c7b6fdd99fd81a087e62e400fd3f">SOPC_Unix_Time</a> *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC to a UNIX timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>the input time </td></tr>
    <tr><td class="paramname">res</td><td>the resulting time_t </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="sopc__enums_8h.html#a6a9076ed124a76682184a349af106ae1a233eaa99afb8ebf03a2c5b7ed968522d">SOPC_STATUS_OK</a> on success, an error code on failure </dd></dl>

</div>
</div>
<a id="ae671b688d4e472e1c5fea89208e5ec9f" name="ae671b688d4e472e1c5fea89208e5ec9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae671b688d4e472e1c5fea89208e5ec9f">&#9670;&#160;</a></span>SOPC_tm_FromXsdDateTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SOPC_tm_FromXsdDateTime </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>datetime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSOPC__tm.html">SOPC_tm</a> *&#160;</td>
          <td class="paramname"><em>tm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a string containing an XSD format datetime '[YYYY]-[MM]-[DD]T[hh]:[mm]:[ss]', it might be followed by 'Z' to indicate UTC timezone or '+/-[hh]:[mm]' for an offset of UTC. See <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/datatypes.html#dateTime">https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/datatypes.html#dateTime</a>, the equivalent regular expression is: -?([1-9][0-9]{3,}|0[0-9]{3}) -(0[1-9]|1[0-2]) -(0[1-9]|[12][0-9]|3[01]) T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5]<a href="\.[0-9]+">0-9</a>?|(24:00:00(.0+)?)) (Z|(+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))? </p>
<dl class="section note"><dt>Note</dt><dd>Output NULL pointers are not set and do not lead to return function failure</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">datetime</td><td>The string containing a XSD datetime value to parse </td></tr>
    <tr><td class="paramname">len</td><td>The length of the the string (strlen(datetime) if datetime is a C string)</td></tr>
    <tr><td class="paramname">tm</td><td>Pointer to broken-down time structure used as output parameter. It is filled in case of success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the datetime parsing succeeded and <code>len</code> characters parsed, false otherwise </dd></dl>

</div>
</div>
<a id="a33ae29e7524d605cb16754ef13edb2e1" name="a33ae29e7524d605cb16754ef13edb2e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33ae29e7524d605cb16754ef13edb2e1">&#9670;&#160;</a></span>SOPC_Time_FromXsdDateTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__enums_8h.html#a343b8b5b4f515a2b9a273571ac67d3ef">SOPC_ReturnStatus</a> SOPC_Time_FromXsdDateTime </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dateTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a string using XSD DateTime format (see <a class="el" href="sopc__date__time_8h.html#ae671b688d4e472e1c5fea89208e5ec9f" title="Parse a string containing an XSD format datetime &#39;[YYYY]-[MM]-[DD]T[hh]:[mm]:[ss]&#39;,...">SOPC_tm_FromXsdDateTime</a>) to a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function uses similar limitation as indicated for encoding for OPC UA binary DateTime (see part 6):<ul>
<li>A date/time value is encoded as 0 if the year is earlier than 1601</li>
<li>A date/time is encoded as the maximum value for an Int64 if the year is greater than 9999 Since those values cannot be encoded as indicated by OPC UA standard, there is no need to manage converting those.</li>
</ul>
</dd>
<dd>
This function considers leap days but not leap seconds since it is not requested by OPC UA specification (see part 3 and 6). It means each day is considered to be 86400 seconds without considering any leap seconds.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dateTime</td><td>The string containing a XSD datetime value to parse </td></tr>
    <tr><td class="paramname">len</td><td>The length of the the string (strlen(datetime) if datetime is a C string) </td></tr>
    <tr><td class="paramname">res</td><td>The resulting time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="sopc__enums_8h.html#a6a9076ed124a76682184a349af106ae1a233eaa99afb8ebf03a2c5b7ed968522d">SOPC_STATUS_OK</a> on success, an error code on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 17 2025 13:45:56 for S2OPC OPCUA Toolkit by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
