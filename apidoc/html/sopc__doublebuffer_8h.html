<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>S2OPC OPCUA Toolkit: src/PubSub/real_time_api/sopc_doublebuffer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">S2OPC OPCUA Toolkit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f0204f00f7eec24e509304baf7a032c6.html">PubSub</a></li><li class="navelem"><a class="el" href="dir_36ab60e010376472964a30fd790bf6cb.html">real_time_api</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sopc_doublebuffer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Double buffer array: allow multiple read concurrently to one writing operation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sopc__enums_8h_source.html">sopc_enums.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sopc__mem__alloc_8h_source.html">sopc_mem_alloc.h</a>&quot;</code><br />
</div>
<p><a href="sopc__doublebuffer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3316f2ade77edd2390df40c5d94661cb"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a></td></tr>
<tr class="memdesc:a3316f2ade77edd2390df40c5d94661cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">An array of double buffers of configurable size with a single writer but multiple readers.  <a href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">More...</a><br /></td></tr>
<tr class="separator:a3316f2ade77edd2390df40c5d94661cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a34177f45d7df4af87949c091f1ee7226"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#a34177f45d7df4af87949c091f1ee7226">SOPC_DoubleBuffer_Create</a> (size_t nbElements, size_t elementSize)</td></tr>
<tr class="memdesc:a34177f45d7df4af87949c091f1ee7226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creation of double buffer array.  <a href="sopc__doublebuffer_8h.html#a34177f45d7df4af87949c091f1ee7226">More...</a><br /></td></tr>
<tr class="separator:a34177f45d7df4af87949c091f1ee7226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c3c92683bff49b894e1a861b7f6f7c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#a3c3c92683bff49b894e1a861b7f6f7c7">SOPC_DoubleBuffer_Destroy</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> **pp)</td></tr>
<tr class="memdesc:a3c3c92683bff49b894e1a861b7f6f7c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a double buffer array.  <a href="sopc__doublebuffer_8h.html#a3c3c92683bff49b894e1a861b7f6f7c7">More...</a><br /></td></tr>
<tr class="separator:a3c3c92683bff49b894e1a861b7f6f7c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a636d45815b514ac2bc967ee6a09ac3da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da">SOPC_DoubleBuffer_GetWriteBuffer</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *p, size_t *pIdBuffer, size_t *pMaxSize)</td></tr>
<tr class="memdesc:a636d45815b514ac2bc967ee6a09ac3da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve a buffer for write operation.  <a href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da">More...</a><br /></td></tr>
<tr class="separator:a636d45815b514ac2bc967ee6a09ac3da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7676f0eb7c4b6aa4c974e8d1aa7d8ee6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#a7676f0eb7c4b6aa4c974e8d1aa7d8ee6">SOPC_DoubleBuffer_WriteBuffer</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *p, size_t idBuffer, size_t offset, uint8_t *data, size_t size, size_t *pWrittenSize, bool ignorePrevious, bool ignoreAfter)</td></tr>
<tr class="memdesc:a7676f0eb7c4b6aa4c974e8d1aa7d8ee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to a buffer.  <a href="sopc__doublebuffer_8h.html#a7676f0eb7c4b6aa4c974e8d1aa7d8ee6">More...</a><br /></td></tr>
<tr class="separator:a7676f0eb7c4b6aa4c974e8d1aa7d8ee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e9ebb8f5c207dc73b609bece827f35b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#a5e9ebb8f5c207dc73b609bece827f35b">SOPC_DoubleBuffer_WriteBufferGetPtr</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *p, size_t idBuffer, uint8_t **ppDataField, bool ignorePrevious)</td></tr>
<tr class="memdesc:a5e9ebb8f5c207dc73b609bece827f35b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expose directly double buffer data field and size field.  <a href="sopc__doublebuffer_8h.html#a5e9ebb8f5c207dc73b609bece827f35b">More...</a><br /></td></tr>
<tr class="separator:a5e9ebb8f5c207dc73b609bece827f35b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7de9092bc58c361a0a418d7e8107304"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#ac7de9092bc58c361a0a418d7e8107304">SOPC_DoubleBuffer_WriteBufferErase</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *p, size_t idBuffer)</td></tr>
<tr class="memdesc:ac7de9092bc58c361a0a418d7e8107304"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the current element.  <a href="sopc__doublebuffer_8h.html#ac7de9092bc58c361a0a418d7e8107304">More...</a><br /></td></tr>
<tr class="separator:ac7de9092bc58c361a0a418d7e8107304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35e065e7e09b66063fa24180295c703"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#ae35e065e7e09b66063fa24180295c703">SOPC_DoubleBuffer_ReleaseWriteBuffer</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *p, size_t idBuffer)</td></tr>
<tr class="memdesc:ae35e065e7e09b66063fa24180295c703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a reserved buffer after a write operation and commit the result.  <a href="sopc__doublebuffer_8h.html#ae35e065e7e09b66063fa24180295c703">More...</a><br /></td></tr>
<tr class="separator:ae35e065e7e09b66063fa24180295c703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864dd32a85100e94da30cc4b16ba849f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#a864dd32a85100e94da30cc4b16ba849f">SOPC_DoubleBuffer_GetReadBuffer</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *p, size_t *pIdBuffer)</td></tr>
<tr class="memdesc:a864dd32a85100e94da30cc4b16ba849f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get most up to date buffer to read.  <a href="sopc__doublebuffer_8h.html#a864dd32a85100e94da30cc4b16ba849f">More...</a><br /></td></tr>
<tr class="separator:a864dd32a85100e94da30cc4b16ba849f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c90e4dda934ba4507ffa68134726fe5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#a6c90e4dda934ba4507ffa68134726fe5">SOPC_DoubleBuffer_ReadBufferPtr</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *p, size_t idBuffer, uint8_t **ppData)</td></tr>
<tr class="memdesc:a6c90e4dda934ba4507ffa68134726fe5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expose directly pointer on data buffer and return size of significant bytes.  <a href="sopc__doublebuffer_8h.html#a6c90e4dda934ba4507ffa68134726fe5">More...</a><br /></td></tr>
<tr class="separator:a6c90e4dda934ba4507ffa68134726fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f176a15f0373f9a54ce0309a280bd1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#a25f176a15f0373f9a54ce0309a280bd1">SOPC_DoubleBuffer_ReadBuffer</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *p, size_t idBuffer, size_t offset, uint8_t *data, size_t size, size_t *pReadSize)</td></tr>
<tr class="memdesc:a25f176a15f0373f9a54ce0309a280bd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read buffer from offset, on sizeRequest.  <a href="sopc__doublebuffer_8h.html#a25f176a15f0373f9a54ce0309a280bd1">More...</a><br /></td></tr>
<tr class="separator:a25f176a15f0373f9a54ce0309a280bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae0612259e12d5a8d36728e8c790ce8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__doublebuffer_8h.html#abae0612259e12d5a8d36728e8c790ce8">SOPC_DoubleBuffer_ReleaseReadBuffer</a> (<a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *p, size_t idBuffer)</td></tr>
<tr class="memdesc:abae0612259e12d5a8d36728e8c790ce8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release read buffer to allow writer to write.  <a href="sopc__doublebuffer_8h.html#abae0612259e12d5a8d36728e8c790ce8">More...</a><br /></td></tr>
<tr class="separator:abae0612259e12d5a8d36728e8c790ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Double buffer array: allow multiple read concurrently to one writing operation. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a3316f2ade77edd2390df40c5d94661cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3316f2ade77edd2390df40c5d94661cb">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> <a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An array of double buffers of configurable size with a single writer but multiple readers. </p>
<p>Elements are each a double buffer with two banks of the given size. At any given time, there should be only one writer to the structure. The array works as follows.</p>
<p>On the writer side, the <a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da" title="Reserve a buffer for write operation.">SOPC_DoubleBuffer_GetWriteBuffer()</a> is called to find in which cell it is possible to write. With the returned index, it is possible to write with <a class="el" href="sopc__doublebuffer_8h.html#a7676f0eb7c4b6aa4c974e8d1aa7d8ee6" title="Write data to a buffer.">SOPC_DoubleBuffer_WriteBuffer()</a> or <a class="el" href="sopc__doublebuffer_8h.html#a5e9ebb8f5c207dc73b609bece827f35b" title="Expose directly double buffer data field and size field.">SOPC_DoubleBuffer_WriteBufferGetPtr()</a>. The index must be released with <a class="el" href="sopc__doublebuffer_8h.html#ae35e065e7e09b66063fa24180295c703" title="Release a reserved buffer after a write operation and commit the result.">SOPC_DoubleBuffer_ReleaseWriteBuffer()</a> (which commits the write). <a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da" title="Reserve a buffer for write operation.">SOPC_DoubleBuffer_GetWriteBuffer()</a> should not be called a second time before the first index has been released.</p>
<p>On the reader side, any thread can call <a class="el" href="sopc__doublebuffer_8h.html#a864dd32a85100e94da30cc4b16ba849f" title="Get most up to date buffer to read.">SOPC_DoubleBuffer_GetReadBuffer()</a> to obtain an index towards the most recently written element of the array. <a class="el" href="sopc__doublebuffer_8h.html#a25f176a15f0373f9a54ce0309a280bd1" title="Read buffer from offset, on sizeRequest.">SOPC_DoubleBuffer_ReadBuffer()</a> and <a class="el" href="sopc__doublebuffer_8h.html#a6c90e4dda934ba4507ffa68134726fe5" title="Expose directly pointer on data buffer and return size of significant bytes.">SOPC_DoubleBuffer_ReadBufferPtr()</a> are used obtain data stored in the element. The index must be released with <a class="el" href="sopc__doublebuffer_8h.html#abae0612259e12d5a8d36728e8c790ce8" title="Release read buffer to allow writer to write.">SOPC_DoubleBuffer_ReleaseReadBuffer()</a> as soon as possible, as writes cannot be made in this element while it is read. Hence, keeping the index may lead to a deprivation of writable elements.</p>
<dl class="section note"><dt>Note</dt><dd>Upon Write, the functions are capable of retrieving the current "last value", meaning that it is possible to update the lastly written value (this is possible because the writers are not concurrent)</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Writer functions are not thread safe and should not be called concurrently </dd>
<dd>
The structure should not be destroyed while in use </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a34177f45d7df4af87949c091f1ee7226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34177f45d7df4af87949c091f1ee7226">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_Create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a>* SOPC_DoubleBuffer_Create </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbElements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>elementSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creation of double buffer array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nbElements</td><td>Number of elements in the array. </td></tr>
    <tr><td class="paramname">elementSize</td><td>Size of an atomic element</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd><code>nbElements</code> shall be chosen such that there are at most <code>nbElements-1</code> concurrent read access to the array</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb" title="An array of double buffers of configurable size with a single writer but multiple readers.">SOPC_DoubleBuffer</a> </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Not thread safe! </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated structure or NULL. Shall be destroyed via <a class="el" href="sopc__doublebuffer_8h.html#a3c3c92683bff49b894e1a861b7f6f7c7" title="Destroy a double buffer array.">SOPC_DoubleBuffer_Destroy()</a>. </dd></dl>

</div>
</div>
<a id="a3c3c92683bff49b894e1a861b7f6f7c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c3c92683bff49b894e1a861b7f6f7c7">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_Destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SOPC_DoubleBuffer_Destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> **&#160;</td>
          <td class="paramname"><em>pp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a double buffer array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pp</td><td>Object to destroy. Pointer is set to NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Not thread safe! </dd></dl>

</div>
</div>
<a id="a636d45815b514ac2bc967ee6a09ac3da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a636d45815b514ac2bc967ee6a09ac3da">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_GetWriteBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_DoubleBuffer_GetWriteBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pIdBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pMaxSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve a buffer for write operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The double buffer array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pIdBuffer</td><td>Pointer to the allocated buffer index for write operations </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pMaxSize</td><td>Pointer to write the element size</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="sopc__doublebuffer_8h.html#ae35e065e7e09b66063fa24180295c703" title="Release a reserved buffer after a write operation and commit the result.">SOPC_DoubleBuffer_ReleaseWriteBuffer()</a> </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Not thread safe for concurrent writers. </dd>
<dd>
Returned buffer index must not be modified and used to access unreserved memory. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_NOK in case of failure (unmodified outputs), else SOPC_STATUS_OK </dd></dl>

</div>
</div>
<a id="a7676f0eb7c4b6aa4c974e8d1aa7d8ee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7676f0eb7c4b6aa4c974e8d1aa7d8ee6">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_WriteBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_DoubleBuffer_WriteBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pWrittenSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignorePrevious</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignoreAfter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to a buffer. </p>
<p>This function is also able to copy the rest of the data (before <code>offset</code> and after <code>offset</code> + <code>size</code>) from the last committed buffer in the array (i.e. the buffer that was written by the previous call to <a class="el" href="sopc__doublebuffer_8h.html#ae35e065e7e09b66063fa24180295c703" title="Release a reserved buffer after a write operation and commit the result.">SOPC_DoubleBuffer_ReleaseWriteBuffer()</a>) with the parameters <code>ignorePrevious</code> and <code>ignoreAfter</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The double buffer array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idBuffer</td><td>Buffer index returned by <a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da" title="Reserve a buffer for write operation.">SOPC_DoubleBuffer_GetWriteBuffer()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Offset of writing start. <code>offset</code> + <code>size</code> must not exceed element size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the data to write, of length at least <code>size</code> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Number of bytes to write </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pWrittenSize</td><td>Pointer to the number of written bytes (including copies from previous and/or after) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ignorePrevious</td><td>Ignore previous data: don't copy data from last committed buffer before offset </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ignoreAfter</td><td>Ignore previous data: don't copy data from last committed buffer after offset + size</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Not thread safe for concurrent writers. </dd>
<dd>
Shall be called between <a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da" title="Reserve a buffer for write operation.">SOPC_DoubleBuffer_GetWriteBuffer()</a> and <a class="el" href="sopc__doublebuffer_8h.html#ae35e065e7e09b66063fa24180295c703" title="Release a reserved buffer after a write operation and commit the result.">SOPC_DoubleBuffer_ReleaseWriteBuffer()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns SOPC_STATUS_OK in case of success, SOPC_STATUS_INVALID_PARAMETERS, or SOPC_STATUS_OUT_OF_MEMORY if given data does not fit in an element. </dd></dl>

</div>
</div>
<a id="a5e9ebb8f5c207dc73b609bece827f35b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e9ebb8f5c207dc73b609bece827f35b">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_WriteBufferGetPtr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_DoubleBuffer_WriteBufferGetPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>ppDataField</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ignorePrevious</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expose directly double buffer data field and size field. </p>
<p>This function is also able to copy the data from the last committed buffer (i.e. the buffer that was written by the previous call to <a class="el" href="sopc__doublebuffer_8h.html#ae35e065e7e09b66063fa24180295c703" title="Release a reserved buffer after a write operation and commit the result.">SOPC_DoubleBuffer_ReleaseWriteBuffer()</a>) in the returned buffer before returning with the parameter <code>ignorePrevious</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The double buffer array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idBuffer</td><td>Buffer index returned by <a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da" title="Reserve a buffer for write operation.">SOPC_DoubleBuffer_GetWriteBuffer()</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppDataField</td><td>Returned pointer to the internal buffer to write </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ignorePrevious</td><td>If false, the element that was committed in the previous write is copied to the buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Not thread safe for concurrent writers. </dd>
<dd>
Shall be called between <a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da" title="Reserve a buffer for write operation.">SOPC_DoubleBuffer_GetWriteBuffer()</a> and <a class="el" href="sopc__doublebuffer_8h.html#ae35e065e7e09b66063fa24180295c703" title="Release a reserved buffer after a write operation and commit the result.">SOPC_DoubleBuffer_ReleaseWriteBuffer()</a> </dd>
<dd>
Never write before <code>*ppDataField</code> nor beyond <code>*ppDataField+p-&gt;elemSize</code> as it would write randomly to other buffers of the array. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, or SOPC_STATUS_INVALID_PARAMETERS. </dd></dl>

</div>
</div>
<a id="ac7de9092bc58c361a0a418d7e8107304"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7de9092bc58c361a0a418d7e8107304">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_WriteBufferErase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_DoubleBuffer_WriteBufferErase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the current element. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The double buffer array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idBuffer</td><td>Buffer index returned by <a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da" title="Reserve a buffer for write operation.">SOPC_DoubleBuffer_GetWriteBuffer()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Not thread safe for concurrent writers. </dd>
<dd>
Shall be called between <a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da" title="Reserve a buffer for write operation.">SOPC_DoubleBuffer_GetWriteBuffer()</a> and <a class="el" href="sopc__doublebuffer_8h.html#ae35e065e7e09b66063fa24180295c703" title="Release a reserved buffer after a write operation and commit the result.">SOPC_DoubleBuffer_ReleaseWriteBuffer()</a> </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, or SOPC_STATUS_INVALID_PARAMETERS. </dd></dl>

</div>
</div>
<a id="ae35e065e7e09b66063fa24180295c703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae35e065e7e09b66063fa24180295c703">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_ReleaseWriteBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_DoubleBuffer_ReleaseWriteBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release a reserved buffer after a write operation and commit the result. </p>
<p>Modifications to the buffer are not visible by the readers before calling this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The double buffer array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idBuffer</td><td>Buffer index returned by <a class="el" href="sopc__doublebuffer_8h.html#a636d45815b514ac2bc967ee6a09ac3da" title="Reserve a buffer for write operation.">SOPC_DoubleBuffer_GetWriteBuffer()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_STATUS_OK in case of success, else SOPC_STATUS_INVALID_PARAMETERS. </dd></dl>

</div>
</div>
<a id="a864dd32a85100e94da30cc4b16ba849f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a864dd32a85100e94da30cc4b16ba849f">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_GetReadBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_DoubleBuffer_GetReadBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pIdBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get most up to date buffer to read. </p>
<p>This buffer is reserved for read operations and cannot be written before it is released by calling <a class="el" href="sopc__doublebuffer_8h.html#abae0612259e12d5a8d36728e8c790ce8" title="Release read buffer to allow writer to write.">SOPC_DoubleBuffer_ReleaseReadBuffer()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The double buffer array </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pIdBuffer</td><td>Pointer to the buffer reserved for read operations</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Shall always be called before <a class="el" href="sopc__doublebuffer_8h.html#a25f176a15f0373f9a54ce0309a280bd1" title="Read buffer from offset, on sizeRequest.">SOPC_DoubleBuffer_ReadBuffer()</a> and <a class="el" href="sopc__doublebuffer_8h.html#a6c90e4dda934ba4507ffa68134726fe5" title="Expose directly pointer on data buffer and return size of significant bytes.">SOPC_DoubleBuffer_ReadBufferPtr()</a> </dd>
<dd>
Returned buffer index must not be modified and used to access unreserved memory. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns SOPC_STATUS_OK in case of success, or SOPC_STATUS_INVALID_PARAMETERS. </dd></dl>

</div>
</div>
<a id="a6c90e4dda934ba4507ffa68134726fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c90e4dda934ba4507ffa68134726fe5">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_ReadBufferPtr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_DoubleBuffer_ReadBufferPtr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>ppData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Expose directly pointer on data buffer and return size of significant bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The double buffer array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idBuffer</td><td>Buffer index returned by <a class="el" href="sopc__doublebuffer_8h.html#a864dd32a85100e94da30cc4b16ba849f" title="Get most up to date buffer to read.">SOPC_DoubleBuffer_GetReadBuffer()</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppData</td><td>Pointer to the internal buffer storing the data reserved for read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Shall be called between <a class="el" href="sopc__doublebuffer_8h.html#a864dd32a85100e94da30cc4b16ba849f" title="Get most up to date buffer to read.">SOPC_DoubleBuffer_GetReadBuffer()</a> and SOPC_DoubleBuffer_ReleaseBuffer() </dd>
<dd>
Never read before <code>*ppData</code> or beyond <code>*ppData+p-&gt;elemSize</code> as it would read from unreserved buffers. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns SOPC_STATUS_OK in case of success, or SOPC_STATUS_INVALID_PARAMETERS. </dd></dl>

</div>
</div>
<a id="a25f176a15f0373f9a54ce0309a280bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f176a15f0373f9a54ce0309a280bd1">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_ReadBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_DoubleBuffer_ReadBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>pReadSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read buffer from offset, on sizeRequest. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The double buffer array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idBuffer</td><td>Buffer index returned by <a class="el" href="sopc__doublebuffer_8h.html#a864dd32a85100e94da30cc4b16ba849f" title="Get most up to date buffer to read.">SOPC_DoubleBuffer_GetReadBuffer()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Offset in the internal buffer where read starts </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Output buffer of at least <code>size</code> bytes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Number of bytes to copy from internal buffer from its offset to output buffer </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pReadSize</td><td>Pointer to the number of bytes copied, set to <code>p-&gt;elemSize-offset</code>. May be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Shall be called between <a class="el" href="sopc__doublebuffer_8h.html#a864dd32a85100e94da30cc4b16ba849f" title="Get most up to date buffer to read.">SOPC_DoubleBuffer_GetReadBuffer()</a> and SOPC_DoubleBuffer_ReleaseBuffer() </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns SOPC_STATUS_OK in case of success, SOPC_INVALID_PARAMETERS, or SOPC_STATUS_NOK if cannot read <code>size</code> bytes. </dd></dl>

</div>
</div>
<a id="abae0612259e12d5a8d36728e8c790ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abae0612259e12d5a8d36728e8c790ce8">&#9670;&nbsp;</a></span>SOPC_DoubleBuffer_ReleaseReadBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_DoubleBuffer_ReleaseReadBuffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__doublebuffer_8h.html#a3316f2ade77edd2390df40c5d94661cb">SOPC_DoubleBuffer</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>idBuffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release read buffer to allow writer to write. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p</td><td>The double buffer array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idBuffer</td><td>Buffer index returned by <a class="el" href="sopc__doublebuffer_8h.html#a864dd32a85100e94da30cc4b16ba849f" title="Get most up to date buffer to read.">SOPC_DoubleBuffer_GetReadBuffer()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns SOPC_STATUS_OK in case of success, or SOPC_STATUS_INVALID_PARAMETERS. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 7 2021 09:35:46 for S2OPC OPCUA Toolkit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
