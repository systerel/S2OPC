<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>S2OPC OPCUA Toolkit: src/Common/helpers/sopc_time.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">S2OPC OPCUA Toolkit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ba210d1fa67db7bee1bb22e0a3c11d9f.html">Common</a></li><li class="navelem"><a class="el" href="dir_4c1a1e4ba300949b33e30739e8e49101.html">helpers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sopc_time.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="sopc__platform__time_8h_source.html">sopc_platform_time.h</a>&quot;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sopc__enums_8h_source.html">sopc_enums.h</a>&quot;</code><br />
</div>
<p><a href="sopc__time_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSOPC__tm.html">SOPC_tm</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">S2OPC equivalent of standard struct tm. Fields use fix-length numerical values.  <a href="structSOPC__tm.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a908d10c9df05e6007f952d798845d96f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structSOPC__tm.html">SOPC_tm</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#a908d10c9df05e6007f952d798845d96f">SOPC_tm</a></td></tr>
<tr class="memdesc:a908d10c9df05e6007f952d798845d96f"><td class="mdescLeft">&#160;</td><td class="mdescRight">S2OPC equivalent of standard struct tm. Fields use fix-length numerical values.  <a href="sopc__time_8h.html#a908d10c9df05e6007f952d798845d96f">More...</a><br /></td></tr>
<tr class="separator:a908d10c9df05e6007f952d798845d96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab12977972a1de6915ae54a24601c0e9c"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#ab12977972a1de6915ae54a24601c0e9c">SOPC_Time_GetString</a> (int64_t time, bool local, bool compact)</td></tr>
<tr class="memdesc:ab12977972a1de6915ae54a24601c0e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a C string representation of the given time in DateTime format E.g.:  <a href="sopc__time_8h.html#ab12977972a1de6915ae54a24601c0e9c">More...</a><br /></td></tr>
<tr class="separator:ab12977972a1de6915ae54a24601c0e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a371fe65d69fdeadbe230d7b0a123b"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#ad7a371fe65d69fdeadbe230d7b0a123b">SOPC_Time_GetStringOfCurrentLocalTime</a> (bool compact)</td></tr>
<tr class="memdesc:ad7a371fe65d69fdeadbe230d7b0a123b"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the current local time as a C String, e.g.:  <a href="sopc__time_8h.html#ad7a371fe65d69fdeadbe230d7b0a123b">More...</a><br /></td></tr>
<tr class="separator:ad7a371fe65d69fdeadbe230d7b0a123b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a2dbfe6886a1a498ce9cdfc0e290940"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#a0a2dbfe6886a1a498ce9cdfc0e290940">SOPC_Time_GetStringOfCurrentTimeUTC</a> (bool compact)</td></tr>
<tr class="memdesc:a0a2dbfe6886a1a498ce9cdfc0e290940"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the current UTC time as a C String, e.g.:  <a href="sopc__time_8h.html#a0a2dbfe6886a1a498ce9cdfc0e290940">More...</a><br /></td></tr>
<tr class="separator:a0a2dbfe6886a1a498ce9cdfc0e290940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5b6eb5d55ffbbe7870c178ba1a891c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sopc__platform__time_8h.html#af7aa9f022e4f0e24a1c5aada5869d638">SOPC_TimeReference</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#aba5b6eb5d55ffbbe7870c178ba1a891c">SOPC_TimeReference_AddMilliseconds</a> (<a class="el" href="sopc__platform__time_8h.html#af7aa9f022e4f0e24a1c5aada5869d638">SOPC_TimeReference</a> timeRef, uint64_t ms)</td></tr>
<tr class="memdesc:aba5b6eb5d55ffbbe7870c178ba1a891c"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the time reference corresponding to the given time reference incremented by the given duration in milliseconds  <a href="sopc__time_8h.html#aba5b6eb5d55ffbbe7870c178ba1a891c">More...</a><br /></td></tr>
<tr class="separator:aba5b6eb5d55ffbbe7870c178ba1a891c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1cb9ea1e3337f180cdbdad4f1fb0e6f"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#ae1cb9ea1e3337f180cdbdad4f1fb0e6f">SOPC_TimeReference_Compare</a> (<a class="el" href="sopc__platform__time_8h.html#af7aa9f022e4f0e24a1c5aada5869d638">SOPC_TimeReference</a> left, <a class="el" href="sopc__platform__time_8h.html#af7aa9f022e4f0e24a1c5aada5869d638">SOPC_TimeReference</a> right)</td></tr>
<tr class="memdesc:ae1cb9ea1e3337f180cdbdad4f1fb0e6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the comparison of given time references  <a href="sopc__time_8h.html#ae1cb9ea1e3337f180cdbdad4f1fb0e6f">More...</a><br /></td></tr>
<tr class="separator:ae1cb9ea1e3337f180cdbdad4f1fb0e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f26f29ba29395884560bd64354975d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#a0f26f29ba29395884560bd64354975d5">SOPC_Time_FromTimeT</a> (time_t time, int64_t *res)</td></tr>
<tr class="memdesc:a0f26f29ba29395884560bd64354975d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a UNIX timestamp to a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC.  <a href="sopc__time_8h.html#a0f26f29ba29395884560bd64354975d5">More...</a><br /></td></tr>
<tr class="separator:a0f26f29ba29395884560bd64354975d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ec15a04eeccf92f19ec3cfb51a4c6a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#a6ec15a04eeccf92f19ec3cfb51a4c6a5">SOPC_Time_ToTimeT</a> (int64_t dt, time_t *res)</td></tr>
<tr class="memdesc:a6ec15a04eeccf92f19ec3cfb51a4c6a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC to a UNIX timestamp.  <a href="sopc__time_8h.html#a6ec15a04eeccf92f19ec3cfb51a4c6a5">More...</a><br /></td></tr>
<tr class="separator:a6ec15a04eeccf92f19ec3cfb51a4c6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae671b688d4e472e1c5fea89208e5ec9f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#ae671b688d4e472e1c5fea89208e5ec9f">SOPC_tm_FromXsdDateTime</a> (const char *datetime, size_t len, <a class="el" href="structSOPC__tm.html">SOPC_tm</a> *tm)</td></tr>
<tr class="memdesc:ae671b688d4e472e1c5fea89208e5ec9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a string containing an XSD format datetime '[YYYY]-[MM]-[DD]T[hh]:[mm]:[ss]', it might be followed by 'Z' to indicate UTC timezone or '+/-[hh]:[mm]' for an offset of UTC. See <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/datatypes.html#dateTime,">https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/datatypes.html#dateTime,</a> the equivalent regular expression is: -?([1-9][0-9]{3,}|0[0-9]{3}) -(0[1-9]|1[0-2]) -(0[1-9]|[12][0-9]|3[01]) T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5]<a href="\.[0-9]+">0-9</a>?|(24:00:00(.0+)?)) (Z|(+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?  <a href="sopc__time_8h.html#ae671b688d4e472e1c5fea89208e5ec9f">More...</a><br /></td></tr>
<tr class="separator:ae671b688d4e472e1c5fea89208e5ec9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ae29e7524d605cb16754ef13edb2e1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__time_8h.html#a33ae29e7524d605cb16754ef13edb2e1">SOPC_Time_FromXsdDateTime</a> (const char *dateTime, size_t len, int64_t *res)</td></tr>
<tr class="memdesc:a33ae29e7524d605cb16754ef13edb2e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts a string using XSD DateTime format (see <a class="el" href="sopc__time_8h.html#ae671b688d4e472e1c5fea89208e5ec9f" title="Parse a string containing an XSD format datetime &#39;[YYYY]-[MM]-[DD]T[hh]:[mm]:[ss]&#39;,...">SOPC_tm_FromXsdDateTime</a>) to a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC.  <a href="sopc__time_8h.html#a33ae29e7524d605cb16754ef13edb2e1">More...</a><br /></td></tr>
<tr class="separator:a33ae29e7524d605cb16754ef13edb2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a908d10c9df05e6007f952d798845d96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a908d10c9df05e6007f952d798845d96f">&#9670;&nbsp;</a></span>SOPC_tm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structSOPC__tm.html">SOPC_tm</a> <a class="el" href="structSOPC__tm.html">SOPC_tm</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>S2OPC equivalent of standard struct tm. Fields use fix-length numerical values. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab12977972a1de6915ae54a24601c0e9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab12977972a1de6915ae54a24601c0e9c">&#9670;&nbsp;</a></span>SOPC_Time_GetString()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* SOPC_Time_GetString </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compact</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns a C string representation of the given time in DateTime format E.g.: </p>
<ul>
<li>compact == false: "2018/01/30 13:15:52.694\0"</li>
<li>compact == true: "20180130_131552_694\0"</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>time value in DataTime format, which is 100 nanoseconds from 1601/01/01 00:00:00 UTC </td></tr>
    <tr><td class="paramname">local</td><td>provides local time if set, UTC time otherwise </td></tr>
    <tr><td class="paramname">compact</td><td>provides compact version when flag is set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad7a371fe65d69fdeadbe230d7b0a123b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a371fe65d69fdeadbe230d7b0a123b">&#9670;&nbsp;</a></span>SOPC_Time_GetStringOfCurrentLocalTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* SOPC_Time_GetStringOfCurrentLocalTime </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compact</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the current local time as a C String, e.g.: </p>
<ul>
<li>compact == false: "2018/01/30 13:15:52.694\0"</li>
<li>compact == true: "20180130_131552_694\0"</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compact</td><td>provides compact version when flag is set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the current local time as C string (to be deallocated after use) </dd></dl>

</div>
</div>
<a id="a0a2dbfe6886a1a498ce9cdfc0e290940"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a2dbfe6886a1a498ce9cdfc0e290940">&#9670;&nbsp;</a></span>SOPC_Time_GetStringOfCurrentTimeUTC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* SOPC_Time_GetStringOfCurrentTimeUTC </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>compact</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the current UTC time as a C String, e.g.: </p>
<ul>
<li>compact == false: "2018/01/30 13:15:52.694\0"</li>
<li>compact == true: "20180130_131552_694\0"</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compact</td><td>provides compact version when flag is set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the current UTC time as C string (to be deallocated after use) </dd></dl>

</div>
</div>
<a id="aba5b6eb5d55ffbbe7870c178ba1a891c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5b6eb5d55ffbbe7870c178ba1a891c">&#9670;&nbsp;</a></span>SOPC_TimeReference_AddMilliseconds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sopc__platform__time_8h.html#af7aa9f022e4f0e24a1c5aada5869d638">SOPC_TimeReference</a> SOPC_TimeReference_AddMilliseconds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__platform__time_8h.html#af7aa9f022e4f0e24a1c5aada5869d638">SOPC_TimeReference</a>&#160;</td>
          <td class="paramname"><em>timeRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the time reference corresponding to the given time reference incremented by the given duration in milliseconds </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeRef</td><td>the time reference to be incremented </td></tr>
    <tr><td class="paramname">ms</td><td>the duration in milliseconds to use for increment</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the new time reference incremented by the given duration or with the maximum value in case of overflow or NULL incase timerRef == NULL or new memory allocation failed </dd></dl>

</div>
</div>
<a id="ae1cb9ea1e3337f180cdbdad4f1fb0e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1cb9ea1e3337f180cdbdad4f1fb0e6f">&#9670;&nbsp;</a></span>SOPC_TimeReference_Compare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t SOPC_TimeReference_Compare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__platform__time_8h.html#af7aa9f022e4f0e24a1c5aada5869d638">SOPC_TimeReference</a>&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sopc__platform__time_8h.html#af7aa9f022e4f0e24a1c5aada5869d638">SOPC_TimeReference</a>&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return the comparison of given time references </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">left</td><td>the left time reference operand (NULL pointer considered less than any other value) </td></tr>
    <tr><td class="paramname">right</td><td>the right time reference operand (NULL pointer considered less than any other value)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if <code>left</code> &lt; <code>right</code> operand, 0 if <code>left</code> = <code>right</code> and 1 if <code>left</code> &gt; right </dd></dl>

</div>
</div>
<a id="a0f26f29ba29395884560bd64354975d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f26f29ba29395884560bd64354975d5">&#9670;&nbsp;</a></span>SOPC_Time_FromTimeT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_Time_FromTimeT </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a UNIX timestamp to a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>the UNIX timestamp </td></tr>
    <tr><td class="paramname">res</td><td>the resulting time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="sopc__enums_8h.html#a8419f6ec9e9cf6f33b24806124972652a233eaa99afb8ebf03a2c5b7ed968522d">SOPC_STATUS_OK</a> on success, an error code on failure </dd></dl>

</div>
</div>
<a id="a6ec15a04eeccf92f19ec3cfb51a4c6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ec15a04eeccf92f19ec3cfb51a4c6a5">&#9670;&nbsp;</a></span>SOPC_Time_ToTimeT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_Time_ToTimeT </td>
          <td>(</td>
          <td class="paramtype">int64_t&#160;</td>
          <td class="paramname"><em>dt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC to a UNIX timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dt</td><td>the input time </td></tr>
    <tr><td class="paramname">res</td><td>the resulting time_t </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="sopc__enums_8h.html#a8419f6ec9e9cf6f33b24806124972652a233eaa99afb8ebf03a2c5b7ed968522d">SOPC_STATUS_OK</a> on success, an error code on failure </dd></dl>

</div>
</div>
<a id="ae671b688d4e472e1c5fea89208e5ec9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae671b688d4e472e1c5fea89208e5ec9f">&#9670;&nbsp;</a></span>SOPC_tm_FromXsdDateTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SOPC_tm_FromXsdDateTime </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>datetime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSOPC__tm.html">SOPC_tm</a> *&#160;</td>
          <td class="paramname"><em>tm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a string containing an XSD format datetime '[YYYY]-[MM]-[DD]T[hh]:[mm]:[ss]', it might be followed by 'Z' to indicate UTC timezone or '+/-[hh]:[mm]' for an offset of UTC. See <a href="https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/datatypes.html#dateTime,">https://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/datatypes.html#dateTime,</a> the equivalent regular expression is: -?([1-9][0-9]{3,}|0[0-9]{3}) -(0[1-9]|1[0-2]) -(0[1-9]|[12][0-9]|3[01]) T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5]<a href="\.[0-9]+">0-9</a>?|(24:00:00(.0+)?)) (Z|(+|-)((0[0-9]|1[0-3]):[0-5][0-9]|14:00))? </p>
<dl class="section note"><dt>Note</dt><dd>Output NULL pointers are not set and do not lead to return function failure</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">datetime</td><td>The string containing a XSD datetime value to parse </td></tr>
    <tr><td class="paramname">len</td><td>The length of the the string (strlen(datetime) if datetime is a C string)</td></tr>
    <tr><td class="paramname">tm</td><td>Pointer to broken-down time structure used as output parameter. It is filled in case of success.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the datetime parsing succeeded and <code>len</code> characters parsed, false otherwise </dd></dl>

</div>
</div>
<a id="a33ae29e7524d605cb16754ef13edb2e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33ae29e7524d605cb16754ef13edb2e1">&#9670;&nbsp;</a></span>SOPC_Time_FromXsdDateTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a8419f6ec9e9cf6f33b24806124972652">SOPC_ReturnStatus</a> SOPC_Time_FromXsdDateTime </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dateTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts a string using XSD DateTime format (see <a class="el" href="sopc__time_8h.html#ae671b688d4e472e1c5fea89208e5ec9f" title="Parse a string containing an XSD format datetime &#39;[YYYY]-[MM]-[DD]T[hh]:[mm]:[ss]&#39;,...">SOPC_tm_FromXsdDateTime</a>) to a time expressed in 100ns slices since 1601/01/01 00:00:00 UTC. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function uses similar limitation as indicated for encoding for OPC UA binary DateTime (see part 6):<ul>
<li>A date/time value is encoded as 0 if the year is earlier than 1601</li>
<li>A date/time is encoded as the maximum value for an Int64 if the year is greater than 9999 Since those values cannot be encoded as indicated by OPC UA standard, there is no need to manage converting those.</li>
</ul>
</dd>
<dd>
This function considers leap days but not leap seconds since it is not requested by OPC UA specification (see part 3 and 6). It means each day is considered to be 86400 seconds without considering any leap seconds.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dateTime</td><td>The string containing a XSD datetime value to parse </td></tr>
    <tr><td class="paramname">len</td><td>The length of the the string (strlen(datetime) if datetime is a C string) </td></tr>
    <tr><td class="paramname">res</td><td>The resulting time </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="sopc__enums_8h.html#a8419f6ec9e9cf6f33b24806124972652a233eaa99afb8ebf03a2c5b7ed968522d">SOPC_STATUS_OK</a> on success, an error code on failure </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 2 2023 15:24:15 for S2OPC OPCUA Toolkit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
