<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>S2OPC OPCUA Toolkit: src/Common/helpers/sopc_assert.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">S2OPC OPCUA Toolkit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_ba210d1fa67db7bee1bb22e0a3c11d9f.html">Common</a></li><li class="navelem"><a class="el" href="dir_4c1a1e4ba300949b33e30739e8e49101.html">helpers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sopc_assert.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Redirection of code assertions depending on user needs. Assert provides one of the following indirection for the assertion "SOPC_ASSERT" macro, depending on build flags:  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;assert.h&gt;</code><br />
</div>
<p><a href="sopc__assert_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a40e73334614dd5cc531cf3e16245f219"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__assert_8h.html#a40e73334614dd5cc531cf3e16245f219">SOPC_PP_XSTR</a>(x)&#160;&#160;&#160;#x</td></tr>
<tr class="separator:a40e73334614dd5cc531cf3e16245f219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4b723476acd96b48329b10bf3598a07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__assert_8h.html#ad4b723476acd96b48329b10bf3598a07">SOPC_PP_STR</a>(x)&#160;&#160;&#160;<a class="el" href="sopc__assert_8h.html#a40e73334614dd5cc531cf3e16245f219">SOPC_PP_XSTR</a>(x)</td></tr>
<tr class="separator:ad4b723476acd96b48329b10bf3598a07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2313bad2f508856db7918876557173f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__assert_8h.html#a2313bad2f508856db7918876557173f3">WITH_MINIMAL_FOOTPRINT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a2313bad2f508856db7918876557173f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878b310deacfc261bdf0ea91d6100328"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__assert_8h.html#a878b310deacfc261bdf0ea91d6100328">SOPC_ASSERT_CONTEXT</a>(context)&#160;&#160;&#160;__FILE__ &quot;:&quot; <a class="el" href="sopc__assert_8h.html#ad4b723476acd96b48329b10bf3598a07">SOPC_PP_STR</a>(__LINE__) &quot; =&gt; &quot; #context</td></tr>
<tr class="separator:a878b310deacfc261bdf0ea91d6100328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc1b19a288e3ee9986cc7ee1b257ef2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__assert_8h.html#adc1b19a288e3ee9986cc7ee1b257ef2e">SOPC_ASSERT</a>&#160;&#160;&#160;assert</td></tr>
<tr class="separator:adc1b19a288e3ee9986cc7ee1b257ef2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2db5ff6f793d4323a50c1b5b12414ea3"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__assert_8h.html#a2db5ff6f793d4323a50c1b5b12414ea3">SOPC_Assert_UserCallback</a>(const char *context)</td></tr>
<tr class="memdesc:a2db5ff6f793d4323a50c1b5b12414ea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">User-defined implementation of Fail-Safe behavior. This method shall be provided when WITH_USER_ASSERT is defined.  <a href="sopc__assert_8h.html#a2db5ff6f793d4323a50c1b5b12414ea3">More...</a><br /></td></tr>
<tr class="separator:a2db5ff6f793d4323a50c1b5b12414ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a77f16924e84bb39c36c89d6a9dcb350b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__assert_8h.html#a77f16924e84bb39c36c89d6a9dcb350b">SOPC_Assert_Set_UserCallback</a> (<a class="el" href="sopc__assert_8h.html#a2db5ff6f793d4323a50c1b5b12414ea3">SOPC_Assert_UserCallback</a> *callback)</td></tr>
<tr class="memdesc:a77f16924e84bb39c36c89d6a9dcb350b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define the user event to call in case of Assert failure.  <a href="sopc__assert_8h.html#a77f16924e84bb39c36c89d6a9dcb350b">More...</a><br /></td></tr>
<tr class="separator:a77f16924e84bb39c36c89d6a9dcb350b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686a27887e4de96dca2e5dc683664212"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__assert_8h.html#a686a27887e4de96dca2e5dc683664212">SOPC_Assert_Failure</a> (const char *context)</td></tr>
<tr class="memdesc:a686a27887e4de96dca2e5dc683664212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by SOPC_ASSERT in case of failure.  <a href="sopc__assert_8h.html#a686a27887e4de96dca2e5dc683664212">More...</a><br /></td></tr>
<tr class="separator:a686a27887e4de96dca2e5dc683664212"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Redirection of code assertions depending on user needs. Assert provides one of the following indirection for the assertion "SOPC_ASSERT" macro, depending on build flags: </p>
<ul>
<li>WITH_NO_ASSERT The assertion is casted to void, so that tested variables are seen "used" by the compiler. This options aims at reducing code footprint by removing assertions. Note that this implies that SOPC_ASSERT calls must have no side-effect.</li>
<li>WITH_USER_ASSERT The user can call (once) SOPC_Assert_Set_UserCallback to route failed asserts its own handling. This intends at providing a safety software event to set Fail-Safe behavior. If SOPC_Assert_Set_UserCallback is not called, or if the user callback returns, the failed assertion will simply call system assert with "false"</li>
<li>Otherwise By default the system assertion is used (assert, see &lt;assert.h&gt;), but </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a40e73334614dd5cc531cf3e16245f219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40e73334614dd5cc531cf3e16245f219">&#9670;&nbsp;</a></span>SOPC_PP_XSTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOPC_PP_XSTR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;#x</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>These macros are required to convert at build_time the <b>LINE</b> into a string </p>

</div>
</div>
<a id="ad4b723476acd96b48329b10bf3598a07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4b723476acd96b48329b10bf3598a07">&#9670;&nbsp;</a></span>SOPC_PP_STR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOPC_PP_STR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="sopc__assert_8h.html#a40e73334614dd5cc531cf3e16245f219">SOPC_PP_XSTR</a>(x)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2313bad2f508856db7918876557173f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2313bad2f508856db7918876557173f3">&#9670;&nbsp;</a></span>WITH_MINIMAL_FOOTPRINT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WITH_MINIMAL_FOOTPRINT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a878b310deacfc261bdf0ea91d6100328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a878b310deacfc261bdf0ea91d6100328">&#9670;&nbsp;</a></span>SOPC_ASSERT_CONTEXT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOPC_ASSERT_CONTEXT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">context</td><td>)</td>
          <td>&#160;&#160;&#160;__FILE__ &quot;:&quot; <a class="el" href="sopc__assert_8h.html#ad4b723476acd96b48329b10bf3598a07">SOPC_PP_STR</a>(__LINE__) &quot; =&gt; &quot; #context</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SOPC_ASSERT_CONTEXT expands the calling context, only if WITH_MINIMAL_FOOTPRINT option is not set </p>

</div>
</div>
<a id="adc1b19a288e3ee9986cc7ee1b257ef2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc1b19a288e3ee9986cc7ee1b257ef2e">&#9670;&nbsp;</a></span>SOPC_ASSERT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOPC_ASSERT&#160;&#160;&#160;assert</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SOPC_ASSERT implementation depends on build options (see module description) </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a2db5ff6f793d4323a50c1b5b12414ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2db5ff6f793d4323a50c1b5b12414ea3">&#9670;&nbsp;</a></span>SOPC_Assert_UserCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void SOPC_Assert_UserCallback(const char *context)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User-defined implementation of Fail-Safe behavior. This method shall be provided when WITH_USER_ASSERT is defined. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context of failed assertion. Note that when WITH_MINIMAL_FOOTPRINT option is set, this parameter will always be empty. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd>This function has no constraint return (may return or not). </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a77f16924e84bb39c36c89d6a9dcb350b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f16924e84bb39c36c89d6a9dcb350b">&#9670;&nbsp;</a></span>SOPC_Assert_Set_UserCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SOPC_Assert_Set_UserCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__assert_8h.html#a2db5ff6f793d4323a50c1b5b12414ea3">SOPC_Assert_UserCallback</a> *&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define the user event to call in case of Assert failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>Callback event. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a686a27887e4de96dca2e5dc683664212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a686a27887e4de96dca2e5dc683664212">&#9670;&nbsp;</a></span>SOPC_Assert_Failure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SOPC_Assert_Failure </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by SOPC_ASSERT in case of failure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>The context of failed assertion. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd>This function does not return </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 28 2022 18:30:10 for S2OPC OPCUA Toolkit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
