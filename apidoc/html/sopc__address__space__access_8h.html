<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>S2OPC OPCUA Toolkit: src/ClientServer/address_space/sopc_address_space_access.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">S2OPC OPCUA Toolkit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c3d037eb94fa1aa7134660c2803d99ab.html">ClientServer</a></li><li class="navelem"><a class="el" href="dir_ef21abcdd950983a805d4327c1b02870.html">address_space</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sopc_address_space_access.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="sopc__builtintypes_8h_source.html">sopc_builtintypes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sopc__types_8h_source.html">sopc_types.h</a>&quot;</code><br />
</div>
<p><a href="sopc__address__space__access_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a26f00f86a997a189685bd9a9bb389550"><td class="memItemLeft" align="right" valign="top">typedef struct _SOPC_AddressSpaceAccess&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a></td></tr>
<tr class="memdesc:a26f00f86a997a189685bd9a9bb389550"><td class="mdescLeft">&#160;</td><td class="mdescRight">AddressSpace Access module provides controlled access to address space. This might be used to access address space during configuration phase or during a method call.  <a href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">More...</a><br /></td></tr>
<tr class="separator:a26f00f86a997a189685bd9a9bb389550"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a50ae236c5814e952b8f8f7afbba31a7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__address__space__access_8h.html#a50ae236c5814e952b8f8f7afbba31a7b">SOPC_AddressSpaceAccess_ReadAttribute</a> (const <a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a> *addSpaceAccess, const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *nodeId, <a class="el" href="sopc__builtintypes_8h.html#a4ac88f7b05bc92f6aa8cab3227cbcd1c">SOPC_AttributeId</a> attribId, <a class="el" href="structSOPC__Variant.html">SOPC_Variant</a> **outValue)</td></tr>
<tr class="memdesc:a50ae236c5814e952b8f8f7afbba31a7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read an attribute and retrieve its value as a Variant.  <a href="sopc__address__space__access_8h.html#a50ae236c5814e952b8f8f7afbba31a7b">More...</a><br /></td></tr>
<tr class="separator:a50ae236c5814e952b8f8f7afbba31a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0ac68fc1f61199c84982865c6f85534"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__address__space__access_8h.html#ab0ac68fc1f61199c84982865c6f85534">SOPC_AddressSpaceAccess_ReadValue</a> (const <a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a> *addSpaceAccess, const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *nodeId, const <a class="el" href="sopc__numeric__range_8h.html#a3f49a7602d8d265b622e3c2c76a85bde">SOPC_NumericRange</a> *optNumRange, <a class="el" href="structSOPC__DataValue.html">SOPC_DataValue</a> **outDataValue)</td></tr>
<tr class="memdesc:ab0ac68fc1f61199c84982865c6f85534"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read Value attribute content with Status and Source Timestamp metadata.  <a href="sopc__address__space__access_8h.html#ab0ac68fc1f61199c84982865c6f85534">More...</a><br /></td></tr>
<tr class="separator:ab0ac68fc1f61199c84982865c6f85534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c67f415931d66bbba8fd312d647416e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__address__space__access_8h.html#a8c67f415931d66bbba8fd312d647416e">SOPC_AddressSpaceAccess_WriteValue</a> (<a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a> *addSpaceAccess, const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *nodeId, const <a class="el" href="sopc__numeric__range_8h.html#a3f49a7602d8d265b622e3c2c76a85bde">SOPC_NumericRange</a> *optNumRange, const <a class="el" href="structSOPC__Variant.html">SOPC_Variant</a> *value, const <a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> *optStatus, const <a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a> *optSourceTimestamp, const uint16_t *optSourcePicoSeconds)</td></tr>
<tr class="memdesc:a8c67f415931d66bbba8fd312d647416e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write Value attribute content with Status and Source Timestamp metadata.  <a href="sopc__address__space__access_8h.html#a8c67f415931d66bbba8fd312d647416e">More...</a><br /></td></tr>
<tr class="separator:a8c67f415931d66bbba8fd312d647416e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb5bf0fd46636020b1085e0b6da09b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sopc__address__space__access_8h.html#a2bb5bf0fd46636020b1085e0b6da09b7">SOPC_AddressSpaceAccess_AddVariableNode</a> (<a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a> *addSpaceAccess, const <a class="el" href="structSOPC__ExpandedNodeId.html">SOPC_ExpandedNodeId</a> *parentNodeId, const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *refTypeId, const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *newNodeId, const <a class="el" href="structSOPC__QualifiedName.html">SOPC_QualifiedName</a> *browseName, const <a class="el" href="sopc__types_8h.html#a1b7d7bfbec62f881cf388a4828593450">OpcUa_VariableAttributes</a> *varAttributes, const <a class="el" href="structSOPC__ExpandedNodeId.html">SOPC_ExpandedNodeId</a> *typeDefId)</td></tr>
<tr class="memdesc:a2bb5bf0fd46636020b1085e0b6da09b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a Variable node into the AddressSpace with given attributes and references to its parent and type.  <a href="sopc__address__space__access_8h.html#a2bb5bf0fd46636020b1085e0b6da09b7">More...</a><br /></td></tr>
<tr class="separator:a2bb5bf0fd46636020b1085e0b6da09b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a26f00f86a997a189685bd9a9bb389550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26f00f86a997a189685bd9a9bb389550">&#9670;&nbsp;</a></span>SOPC_AddressSpaceAccess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct _SOPC_AddressSpaceAccess <a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>AddressSpace Access module provides controlled access to address space. This might be used to access address space during configuration phase or during a method call. </p>
<dl class="section note"><dt>Note</dt><dd>AddressSpace is managed by services layer and shall not be accessed unless an AddressSpaceAccess instance is provided by the S2OPC API.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>AddressSpaceAccess operations are not thread-safe, concurrent access shall be managed by caller if caller wants to do some. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a50ae236c5814e952b8f8f7afbba31a7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50ae236c5814e952b8f8f7afbba31a7b">&#9670;&nbsp;</a></span>SOPC_AddressSpaceAccess_ReadAttribute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> SOPC_AddressSpaceAccess_ReadAttribute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a> *&#160;</td>
          <td class="paramname"><em>addSpaceAccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *&#160;</td>
          <td class="paramname"><em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="sopc__builtintypes_8h.html#a4ac88f7b05bc92f6aa8cab3227cbcd1c">SOPC_AttributeId</a>&#160;</td>
          <td class="paramname"><em>attribId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSOPC__Variant.html">SOPC_Variant</a> **&#160;</td>
          <td class="paramname"><em>outValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read an attribute and retrieve its value as a Variant. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">addSpaceAccess</td><td>The AddressSpace Access used for read operation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">nodeId</td><td>The NodeId of a node in the AddressSpace </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">attribId</td><td>The AttributeId to read in the node </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outValue</td><td>The pointer in which the Variant containing the read result will be returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_GoodGenericStatus in case of success with an allocated <code>outValue</code>, otherwise:<ul>
<li>OpcUa_BadInvalidArgument: if provided parameters are invalid (NULL)</li>
<li>OpcUa_BadNodeIdUnknown: if provided <code>nodeId</code> is not present in AddressSpace</li>
<li>OpcUa_BadNotImplemented: if the requested attribute is not implemented (it might also be invalid for concerned node in this case)</li>
<li>OpcUa_BadOutOfMemory: if Variant allocation failed</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The following attributes are not supported and will lead to return an OpcUa_BadNotImplemented status:<ul>
<li>ContainsNoLoops</li>
<li>InverseName</li>
<li>Symmetric</li>
<li>EventNotifier</li>
<li>MinimumSamplingInterval</li>
<li>Historizing</li>
<li>UserAccessLevel</li>
<li>UserExecutable User related attributes will never be provided since behavior is dynamic. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ab0ac68fc1f61199c84982865c6f85534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0ac68fc1f61199c84982865c6f85534">&#9670;&nbsp;</a></span>SOPC_AddressSpaceAccess_ReadValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> SOPC_AddressSpaceAccess_ReadValue </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a> *&#160;</td>
          <td class="paramname"><em>addSpaceAccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *&#160;</td>
          <td class="paramname"><em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="sopc__numeric__range_8h.html#a3f49a7602d8d265b622e3c2c76a85bde">SOPC_NumericRange</a> *&#160;</td>
          <td class="paramname"><em>optNumRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSOPC__DataValue.html">SOPC_DataValue</a> **&#160;</td>
          <td class="paramname"><em>outDataValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read Value attribute content with Status and Source Timestamp metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">addSpaceAccess</td><td>The AddressSpace Access used for read operation </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">nodeId</td><td>The NodeId of a Variable/VariableType node in the AddressSpace </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">optNumRange</td><td>(Optional) The numeric range to use to read value, it shall be NULL if no range requested. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outDataValue</td><td>The pointer in which the DataValue containing the read Value result will be returned. It contains the Value as a Variant and the associated StatusCode and Source Timestamp.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_GoodGenericStatus in case of success with an allocated <code>outValue</code>, otherwise:<ul>
<li>OpcUa_BadInvalidArgument: if provided parameters are invalid (NULL except if optional)</li>
<li>OpcUa_BadNodeIdUnknown: if provided <code>nodeId</code> is not present in AddressSpace</li>
<li>OpcUa_BadNotImplemented: if the requested attribute is not implemented (it might also be invalid for concerned node in this case)</li>
<li>OpcUa_BadOutOfMemory: if DataValue/Variant allocation failed</li>
<li>OpcUa_BadIndexRangeInvalid: if numeric range provided is invalid</li>
<li>OpcUa_BadIndexRangeNoData: if there is no data for the numeric range provided</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Server Timestamp is never set in returned value since current date on read is used for OPC UA service. </dd></dl>

</div>
</div>
<a id="a8c67f415931d66bbba8fd312d647416e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c67f415931d66bbba8fd312d647416e">&#9670;&nbsp;</a></span>SOPC_AddressSpaceAccess_WriteValue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> SOPC_AddressSpaceAccess_WriteValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a> *&#160;</td>
          <td class="paramname"><em>addSpaceAccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *&#160;</td>
          <td class="paramname"><em>nodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="sopc__numeric__range_8h.html#a3f49a7602d8d265b622e3c2c76a85bde">SOPC_NumericRange</a> *&#160;</td>
          <td class="paramname"><em>optNumRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSOPC__Variant.html">SOPC_Variant</a> *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> *&#160;</td>
          <td class="paramname"><em>optStatus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="sopc__builtintypes_8h.html#a61a73148e994b49ed5337c472faa21b4">SOPC_DateTime</a> *&#160;</td>
          <td class="paramname"><em>optSourceTimestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>optSourcePicoSeconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write Value attribute content with Status and Source Timestamp metadata. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addSpaceAccess</td><td>The AddressSpace Access used for write operation </td></tr>
    <tr><td class="paramname">nodeId</td><td>The NodeId of a Variable/VariableType node in the AddressSpace </td></tr>
    <tr><td class="paramname">optNumRange</td><td>(Optional) The numeric range to write in the targeted node with the given value, it shall be NULL if no range requested (complete write of target value). </td></tr>
    <tr><td class="paramname">value</td><td>The value to write into the Variable/VariableType node. </td></tr>
    <tr><td class="paramname">optStatus</td><td>(Optional) The status code to associate with the value written, NULL if previous value shall be kept. </td></tr>
    <tr><td class="paramname">optSourceTimestamp</td><td>(Optional) The source timestamp as OPC UA DateTime to associate with the value written, NULL if previous source timestamp shall be kept, 0 if the current time shall be set. </td></tr>
    <tr><td class="paramname">optSourcePicoSeconds</td><td>(Optional) The source timestamp picoseconds part to associate with the value written, it shall be NULL if <code>optSourceTimestamp</code> is NULL, it might be NULL or set to 0 if the current time shall be set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_GoodGenericStatus in case of success, otherwise:<ul>
<li>OpcUa_BadInvalidArgument: if provided parameters are invalid (NULL, incoherent parameters)</li>
<li>OpcUa_BadNodeIdUnknown: if provided <code>nodeId</code> is not present in AddressSpace</li>
<li>OpcUa_BadWriteNotSupported: if status code and/or timestamp provided but are read-only in AddressSpace</li>
<li>OpcUa_BadNotImplemented: if the requested attribute is not implemented (it might also be invalid for concerned node in this case)</li>
<li>OpcUa_BadOutOfMemory: if an allocation failed during write operation</li>
<li>OpcUa_BadIndexRangeInvalid: if numeric range provided is invalid</li>
<li>OpcUa_BadIndexRangeNoData: if there is no data for the numeric range provided</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>No typechecking is implemented in this operation for now (value write will succeed), it is responsibility of caller to check the Value complies with the Variable DataType. </dd></dl>

</div>
</div>
<a id="a2bb5bf0fd46636020b1085e0b6da09b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb5bf0fd46636020b1085e0b6da09b7">&#9670;&nbsp;</a></span>SOPC_AddressSpaceAccess_AddVariableNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libs2opc__client_8h.html#a91f4f3f2cce383f2003cbad3c76d46aa">SOPC_StatusCode</a> SOPC_AddressSpaceAccess_AddVariableNode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sopc__address__space__access_8h.html#a26f00f86a997a189685bd9a9bb389550">SOPC_AddressSpaceAccess</a> *&#160;</td>
          <td class="paramname"><em>addSpaceAccess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSOPC__ExpandedNodeId.html">SOPC_ExpandedNodeId</a> *&#160;</td>
          <td class="paramname"><em>parentNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *&#160;</td>
          <td class="paramname"><em>refTypeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSOPC__NodeId.html">SOPC_NodeId</a> *&#160;</td>
          <td class="paramname"><em>newNodeId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSOPC__QualifiedName.html">SOPC_QualifiedName</a> *&#160;</td>
          <td class="paramname"><em>browseName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="sopc__types_8h.html#a1b7d7bfbec62f881cf388a4828593450">OpcUa_VariableAttributes</a> *&#160;</td>
          <td class="paramname"><em>varAttributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSOPC__ExpandedNodeId.html">SOPC_ExpandedNodeId</a> *&#160;</td>
          <td class="paramname"><em>typeDefId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a Variable node into the AddressSpace with given attributes and references to its parent and type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addSpaceAccess</td><td>The AddressSpace Access used for write operation </td></tr>
    <tr><td class="paramname">parentNodeId</td><td>The ExpandedNodeId of the parent node in AddressSpace for the variable to add. Only "local" NodeId are supported for now (ServerIndex shall be 0 and NamespaceUri is ignored). Parent node characteristics shall be compliant to add the new Variable node as a child. See OPC UA specifications part 3 for constraints and returned error code for details. </td></tr>
    <tr><td class="paramname">refTypeId</td><td>The NodeId of the reference type used for reference between parent node and new variable node. E.g. Organizes, HasComponent, etc. ReferenceType shall be compliant with parent node and variable node characteristics. See OPC UA specifications part 3 for constraints and returned error code for details. </td></tr>
    <tr><td class="paramname">newNodeId</td><td>The fresh NodeId for the new variable to add. It shall not already exist in AddressSpace. </td></tr>
    <tr><td class="paramname">browseName</td><td>The QualifiedName used when browsing the AddressSpace for the new variable node. It shall be unique in the parent node children. </td></tr>
    <tr><td class="paramname">varAttributes</td><td>The attributes defined for the new variable node. The following attributes combination are not supported and will make addition fail: WriteMask or UserWriteMask, UserAccessLevel, NoOfArrayDimensions without ArrayDimensions, Historizing = true, MinimumSamplingInterval != 0,</td></tr>
    <tr><td class="paramname">typeDefId</td><td>The ExpandedNodeId of the type definition node in AddressSpace for the variable to add. E.g. BaseDataVariable, PropertyType, etc. Only "local" NodeId are supported for now (ServerIndex shall be 0 and NamespaceUri ignored). Type characteristics shall be compliant to add the Variable into the parent node indicated. See OPC UA specifications part 3 for constraints and returned error code for details.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SOPC_GoodGenericStatus in case of success, otherwise:<ul>
<li>OpcUa_BadInvalidArgument: if provided parameters are invalid (NULL)</li>
<li>OpcUa_BadServiceUnsupported: if the AddressSpace does not support to add Variable node dynamically. Note: XML loaded AddressSpace supports this operation.</li>
<li>OpcUa_BadNodeIdExists: if <code>newNodeId</code> already exists in AddressSpace</li>
<li>OpcUa_BadParentNodeIdInvalid: if <code>parentNodeId</code> is unknown</li>
<li>OpcUa_BadReferenceNotAllowed: the <code>refTypeId</code> (Organizes, HasComponent, etc.) is not compliant regarding the parent node characteristics. See OPC UA specifications part 3 for constraints and logs for detail in case of error.</li>
<li>OpcUa_BadTypeDefinitionInvalid: the <code>typeDefId</code> (BaseDataVariable, PropertyType, etc.) is unknown or is not compliant regarding the Variable characteristics and its relation to parent node. See OPC UA specifications part 3 for constraints and logs for detail in case of error.</li>
<li>OpcUa_BadBrowseNameDuplicated: if <code>browseName</code> is not unique in parent node.</li>
<li>OpcUa_BadNodeAttributesInvalid: if <code>varAttributes</code> contains unsupported attributes. See logs for detail in case of error.</li>
<li>OpcUa_BadOutOfMemory: if an allocation failed during add node operation</li>
</ul>
</dd></dl>
<dl class="section note"><dt>Note</dt><dd>: Add variable node operation includes creation of mutual references with parent / type.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Children of the variable that might declared as mandatory in the <code>typeDefId</code> are not generated automatically by this operation for now. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 13 2024 14:49:50 for S2OPC OPCUA Toolkit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
